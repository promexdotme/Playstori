(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))C(u);new MutationObserver(u=>{for(const n of u)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&C(a)}).observe(document,{childList:!0,subtree:!0});function i(u){const n={};return u.integrity&&(n.integrity=u.integrity),u.referrerPolicy&&(n.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?n.credentials="include":u.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function C(u){if(u.ep)return;u.ep=!0;const n=i(u);fetch(u.href,n)}})();const oe="modulepreload",le=function(b){return"/"+b},Ht={},Wt=function(k,i,C){let u=Promise.resolve();if(i&&i.length>0){let l=function(_){return Promise.all(_.map(v=>Promise.resolve(v).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=a?.nonce||a?.getAttribute("nonce");u=l(i.map(_=>{if(_=le(_),_ in Ht)return;Ht[_]=!0;const v=_.endsWith(".css"),h=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${h}`))return;const g=document.createElement("link");if(g.rel=v?"stylesheet":oe,v||(g.as="script"),g.crossOrigin="",g.href=_,r&&g.setAttribute("nonce",r),document.head.appendChild(g),v)return new Promise((o,m)=>{g.addEventListener("load",o),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${_}`)))})}))}function n(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return u.then(a=>{for(const r of a||[])r.status==="rejected"&&n(r.reason);return k().catch(n)})};var Et;(function(b){b.Unimplemented="UNIMPLEMENTED",b.Unavailable="UNAVAILABLE"})(Et||(Et={}));class Rt extends Error{constructor(k,i,C){super(k),this.message=k,this.code=i,this.data=C}}const ce=b=>{var k,i;return b?.androidBridge?"android":!((i=(k=b?.webkit)===null||k===void 0?void 0:k.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},ue=b=>{const k=b.CapacitorCustomPlatform||null,i=b.Capacitor||{},C=i.Plugins=i.Plugins||{},u=()=>k!==null?k.name:ce(b),n=()=>u()!=="web",a=h=>{const g=_.get(h);return!!(g?.platforms.has(u())||r(h))},r=h=>{var g;return(g=i.PluginHeaders)===null||g===void 0?void 0:g.find(o=>o.name===h)},l=h=>b.console.error(h),_=new Map,v=(h,g={})=>{const o=_.get(h);if(o)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),o.proxy;const m=u(),s=r(h);let f;const c=async()=>(!f&&m in g?f=typeof g[m]=="function"?f=await g[m]():f=g[m]:k!==null&&!f&&"web"in g&&(f=typeof g.web=="function"?f=await g.web():f=g.web),f),y=(U,I)=>{var W,q;if(s){const w=s?.methods.find(B=>I===B.name);if(w)return w.rtype==="promise"?B=>i.nativePromise(h,I.toString(),B):(B,e)=>i.nativeCallback(h,I.toString(),B,e);if(U)return(W=U[I])===null||W===void 0?void 0:W.bind(U)}else{if(U)return(q=U[I])===null||q===void 0?void 0:q.bind(U);throw new Rt(`"${h}" plugin is not implemented on ${m}`,Et.Unimplemented)}},x=U=>{let I;const W=(...q)=>{const w=c().then(B=>{const e=y(B,U);if(e){const R=e(...q);return I=R?.remove,R}else throw new Rt(`"${h}.${U}()" is not implemented on ${m}`,Et.Unimplemented)});return U==="addListener"&&(w.remove=async()=>I()),w};return W.toString=()=>`${U.toString()}() { [capacitor code] }`,Object.defineProperty(W,"name",{value:U,writable:!1,configurable:!1}),W},A=x("addListener"),S=x("removeListener"),F=(U,I)=>{const W=A({eventName:U},I),q=async()=>{const B=await W;S({eventName:U,callbackId:B},I)},w=new Promise(B=>W.then(()=>B({remove:q})));return w.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},w},P=new Proxy({},{get(U,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return s?F:A;case"removeListener":return S;default:return x(I)}}});return C[h]=P,_.set(h,{name:h,proxy:P,platforms:new Set([...Object.keys(g),...s?[m]:[]])}),P};return i.convertFileSrc||(i.convertFileSrc=h=>h),i.getPlatform=u,i.handleError=l,i.isNativePlatform=n,i.isPluginAvailable=a,i.registerPlugin=v,i.Exception=Rt,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},de=b=>b.Capacitor=ue(b),vt=de(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ot=vt.registerPlugin;class Mt{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(k,i){let C=!1;this.listeners[k]||(this.listeners[k]=[],C=!0),this.listeners[k].push(i);const n=this.windowListeners[k];n&&!n.registered&&this.addWindowListener(n),C&&this.sendRetainedArgumentsForEvent(k);const a=async()=>this.removeListener(k,i);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const k in this.windowListeners)this.removeWindowListener(this.windowListeners[k]);this.windowListeners={}}notifyListeners(k,i,C){const u=this.listeners[k];if(!u){if(C){let n=this.retainedEventArguments[k];n||(n=[]),n.push(i),this.retainedEventArguments[k]=n}return}u.forEach(n=>n(i))}hasListeners(k){var i;return!!(!((i=this.listeners[k])===null||i===void 0)&&i.length)}registerWindowListener(k,i){this.windowListeners[i]={registered:!1,windowEventName:k,pluginEventName:i,handler:C=>{this.notifyListeners(i,C)}}}unimplemented(k="not implemented"){return new vt.Exception(k,Et.Unimplemented)}unavailable(k="not available"){return new vt.Exception(k,Et.Unavailable)}async removeListener(k,i){const C=this.listeners[k];if(!C)return;const u=C.indexOf(i);this.listeners[k].splice(u,1),this.listeners[k].length||this.removeWindowListener(this.windowListeners[k])}addWindowListener(k){window.addEventListener(k.windowEventName,k.handler),k.registered=!0}removeWindowListener(k){k&&(window.removeEventListener(k.windowEventName,k.handler),k.registered=!1)}sendRetainedArgumentsForEvent(k){const i=this.retainedEventArguments[k];i&&(delete this.retainedEventArguments[k],i.forEach(C=>{this.notifyListeners(k,C)}))}}const Gt=b=>encodeURIComponent(b).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Vt=b=>b.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class he extends Mt{async getCookies(){const k=document.cookie,i={};return k.split(";").forEach(C=>{if(C.length<=0)return;let[u,n]=C.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");u=Vt(u).trim(),n=Vt(n).trim(),i[u]=n}),i}async setCookie(k){try{const i=Gt(k.key),C=Gt(k.value),u=`; expires=${(k.expires||"").replace("expires=","")}`,n=(k.path||"/").replace("path=",""),a=k.url!=null&&k.url.length>0?`domain=${k.url}`:"";document.cookie=`${i}=${C||""}${u}; path=${n}; ${a};`}catch(i){return Promise.reject(i)}}async deleteCookie(k){try{document.cookie=`${k.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const k=document.cookie.split(";")||[];for(const i of k)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(k){return Promise.reject(k)}}async clearAllCookies(){try{await this.clearCookies()}catch(k){return Promise.reject(k)}}}Ot("CapacitorCookies",{web:()=>new he});const fe=async b=>new Promise((k,i)=>{const C=new FileReader;C.onload=()=>{const u=C.result;k(u.indexOf(",")>=0?u.split(",")[1]:u)},C.onerror=u=>i(u),C.readAsDataURL(b)}),pe=(b={})=>{const k=Object.keys(b);return Object.keys(b).map(u=>u.toLocaleLowerCase()).reduce((u,n,a)=>(u[n]=b[k[a]],u),{})},me=(b,k=!0)=>b?Object.entries(b).reduce((C,u)=>{const[n,a]=u;let r,l;return Array.isArray(a)?(l="",a.forEach(_=>{r=k?encodeURIComponent(_):_,l+=`${n}=${r}&`}),l.slice(0,-1)):(r=k?encodeURIComponent(a):a,l=`${n}=${r}`),`${C}&${l}`},"").substr(1):null,ge=(b,k={})=>{const i=Object.assign({method:b.method||"GET",headers:b.headers},k),u=pe(b.headers)["content-type"]||"";if(typeof b.data=="string")i.body=b.data;else if(u.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[a,r]of Object.entries(b.data||{}))n.set(a,r);i.body=n.toString()}else if(u.includes("multipart/form-data")||b.data instanceof FormData){const n=new FormData;if(b.data instanceof FormData)b.data.forEach((r,l)=>{n.append(l,r)});else for(const r of Object.keys(b.data))n.append(r,b.data[r]);i.body=n;const a=new Headers(i.headers);a.delete("content-type"),i.headers=a}else(u.includes("application/json")||typeof b.data=="object")&&(i.body=JSON.stringify(b.data));return i};class _e extends Mt{async request(k){const i=ge(k,k.webFetchExtra),C=me(k.params,k.shouldEncodeUrlParams),u=C?`${k.url}?${C}`:k.url,n=await fetch(u,i),a=n.headers.get("content-type")||"";let{responseType:r="text"}=n.ok?k:{};a.includes("application/json")&&(r="json");let l,_;switch(r){case"arraybuffer":case"blob":_=await n.blob(),l=await fe(_);break;case"json":l=await n.json();break;default:l=await n.text()}const v={};return n.headers.forEach((h,g)=>{v[g]=h}),{data:l,headers:v,status:n.status,url:n.url}}async get(k){return this.request(Object.assign(Object.assign({},k),{method:"GET"}))}async post(k){return this.request(Object.assign(Object.assign({},k),{method:"POST"}))}async put(k){return this.request(Object.assign(Object.assign({},k),{method:"PUT"}))}async patch(k){return this.request(Object.assign(Object.assign({},k),{method:"PATCH"}))}async delete(k){return this.request(Object.assign(Object.assign({},k),{method:"DELETE"}))}}const te=Ot("CapacitorHttp",{web:()=>new _e});var Kt;(function(b){b.Dark="DARK",b.Light="LIGHT",b.Default="DEFAULT"})(Kt||(Kt={}));var qt;(function(b){b.StatusBar="StatusBar",b.NavigationBar="NavigationBar"})(qt||(qt={}));class ye extends Mt{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Ot("SystemBars",{web:()=>new ye});const Ut=Ot("Preferences",{web:()=>Wt(()=>import("./web-CUpq1uZ8.js"),[]).then(b=>new b.PreferencesWeb)});function we(b){b.CapacitorUtils.Synapse=new Proxy({},{get(k,i){return new Proxy({},{get(C,u){return(n,a,r)=>{const l=b.Capacitor.Plugins[i];if(l===void 0){r(new Error(`Capacitor plugin ${i} not found`));return}if(typeof l[u]!="function"){r(new Error(`Method ${u} not found in Capacitor plugin ${i}`));return}(async()=>{try{const _=await l[u](n);a(_)}catch(_){r(_)}})()}}})}})}function ve(b){b.CapacitorUtils.Synapse=new Proxy({},{get(k,i){return b.cordova.plugins[i]}})}function be(b=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!b?we(window):window.cordova!==void 0&&ve(window))}var dt;(function(b){b.Documents="DOCUMENTS",b.Data="DATA",b.Library="LIBRARY",b.Cache="CACHE",b.External="EXTERNAL",b.ExternalStorage="EXTERNAL_STORAGE",b.ExternalCache="EXTERNAL_CACHE",b.LibraryNoCloud="LIBRARY_NO_CLOUD",b.Temporary="TEMPORARY"})(dt||(dt={}));var Yt;(function(b){b.UTF8="utf8",b.ASCII="ascii",b.UTF16="utf16"})(Yt||(Yt={}));const ft=Ot("Filesystem",{web:()=>Wt(()=>import("./web-2uMju3vB.js"),[]).then(b=>new b.FilesystemWeb)});be();function ke(b={}){const{immediate:k=!1,onNeedRefresh:i,onOfflineReady:C,onRegistered:u,onRegisteredSW:n,onRegisterError:a}=b;let r,l;const _=async(h=!0)=>{await l};async function v(){if("serviceWorker"in navigator){if(r=await Wt(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{a?.(h)}),!r)return;r.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),r.addEventListener("installed",h=>{h.isUpdate||C?.()}),r.register({immediate:k}).then(h=>{n?n("/sw.js",h):u?.(h)}).catch(h=>{a?.(h)})}}return l=v(),_}var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xe(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function Bt(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dt={exports:{}};var Jt;function Ee(){return Jt||(Jt=1,(function(b,k){(function(i){b.exports=i()})(function(){return(function i(C,u,n){function a(_,v){if(!u[_]){if(!C[_]){var h=typeof Bt=="function"&&Bt;if(!v&&h)return h(_,!0);if(r)return r(_,!0);var g=new Error("Cannot find module '"+_+"'");throw g.code="MODULE_NOT_FOUND",g}var o=u[_]={exports:{}};C[_][0].call(o.exports,function(m){var s=C[_][1][m];return a(s||m)},o,o.exports,i,C,u,n)}return u[_].exports}for(var r=typeof Bt=="function"&&Bt,l=0;l<n.length;l++)a(n[l]);return a})({1:[function(i,C,u){var n=i("./utils"),a=i("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(l){for(var _,v,h,g,o,m,s,f=[],c=0,y=l.length,x=y,A=n.getTypeOf(l)!=="string";c<l.length;)x=y-c,h=A?(_=l[c++],v=c<y?l[c++]:0,c<y?l[c++]:0):(_=l.charCodeAt(c++),v=c<y?l.charCodeAt(c++):0,c<y?l.charCodeAt(c++):0),g=_>>2,o=(3&_)<<4|v>>4,m=1<x?(15&v)<<2|h>>6:64,s=2<x?63&h:64,f.push(r.charAt(g)+r.charAt(o)+r.charAt(m)+r.charAt(s));return f.join("")},u.decode=function(l){var _,v,h,g,o,m,s=0,f=0,c="data:";if(l.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===r.charAt(64)&&x--,l.charAt(l.length-2)===r.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|x):new Array(0|x);s<l.length;)_=r.indexOf(l.charAt(s++))<<2|(g=r.indexOf(l.charAt(s++)))>>4,v=(15&g)<<4|(o=r.indexOf(l.charAt(s++)))>>2,h=(3&o)<<6|(m=r.indexOf(l.charAt(s++))),y[f++]=_,o!==64&&(y[f++]=v),m!==64&&(y[f++]=h);return y}},{"./support":30,"./utils":32}],2:[function(i,C,u){var n=i("./external"),a=i("./stream/DataWorker"),r=i("./stream/Crc32Probe"),l=i("./stream/DataLengthProbe");function _(v,h,g,o,m){this.compressedSize=v,this.uncompressedSize=h,this.crc32=g,this.compression=o,this.compressedContent=m}_.prototype={getContentWorker:function(){var v=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return v.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(v,h,g){return v.pipe(new r).pipe(new l("uncompressedSize")).pipe(h.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},C.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,C,u){var n=i("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},u.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,C,u){var n=i("./utils"),a=(function(){for(var r,l=[],_=0;_<256;_++){r=_;for(var v=0;v<8;v++)r=1&r?3988292384^r>>>1:r>>>1;l[_]=r}return l})();C.exports=function(r,l){return r!==void 0&&r.length?n.getTypeOf(r)!=="string"?(function(_,v,h,g){var o=a,m=g+h;_^=-1;for(var s=g;s<m;s++)_=_>>>8^o[255&(_^v[s])];return-1^_})(0|l,r,r.length,0):(function(_,v,h,g){var o=a,m=g+h;_^=-1;for(var s=g;s<m;s++)_=_>>>8^o[255&(_^v.charCodeAt(s))];return-1^_})(0|l,r,r.length,0):0}},{"./utils":32}],5:[function(i,C,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(i,C,u){var n=null;n=typeof Promise<"u"?Promise:i("lie"),C.exports={Promise:n}},{lie:37}],7:[function(i,C,u){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=i("pako"),r=i("./utils"),l=i("./stream/GenericWorker"),_=n?"uint8array":"array";function v(h,g){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=g,this.meta={}}u.magic="\b\0",r.inherits(v,l),v.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(_,h.data),!1)},v.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(g){h.push({data:g,meta:h.meta})}},u.compressWorker=function(h){return new v("Deflate",h)},u.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,C,u){function n(o,m){var s,f="";for(s=0;s<m;s++)f+=String.fromCharCode(255&o),o>>>=8;return f}function a(o,m,s,f,c,y){var x,A,S=o.file,F=o.compression,P=y!==_.utf8encode,U=r.transformTo("string",y(S.name)),I=r.transformTo("string",_.utf8encode(S.name)),W=S.comment,q=r.transformTo("string",y(W)),w=r.transformTo("string",_.utf8encode(W)),B=I.length!==S.name.length,e=w.length!==W.length,R="",Q="",M="",tt=S.dir,$=S.date,X={crc32:0,compressedSize:0,uncompressedSize:0};m&&!s||(X.crc32=o.crc32,X.compressedSize=o.compressedSize,X.uncompressedSize=o.uncompressedSize);var T=0;m&&(T|=8),P||!B&&!e||(T|=2048);var O=0,J=0;tt&&(O|=16),c==="UNIX"?(J=798,O|=(function(G,ot){var ht=G;return G||(ht=ot?16893:33204),(65535&ht)<<16})(S.unixPermissions,tt)):(J=20,O|=(function(G){return 63&(G||0)})(S.dosPermissions)),x=$.getUTCHours(),x<<=6,x|=$.getUTCMinutes(),x<<=5,x|=$.getUTCSeconds()/2,A=$.getUTCFullYear()-1980,A<<=4,A|=$.getUTCMonth()+1,A<<=5,A|=$.getUTCDate(),B&&(Q=n(1,1)+n(v(U),4)+I,R+="up"+n(Q.length,2)+Q),e&&(M=n(1,1)+n(v(q),4)+w,R+="uc"+n(M.length,2)+M);var V="";return V+=`
\0`,V+=n(T,2),V+=F.magic,V+=n(x,2),V+=n(A,2),V+=n(X.crc32,4),V+=n(X.compressedSize,4),V+=n(X.uncompressedSize,4),V+=n(U.length,2),V+=n(R.length,2),{fileRecord:h.LOCAL_FILE_HEADER+V+U+R,dirRecord:h.CENTRAL_FILE_HEADER+n(J,2)+V+n(q.length,2)+"\0\0\0\0"+n(O,4)+n(f,4)+U+R+q}}var r=i("../utils"),l=i("../stream/GenericWorker"),_=i("../utf8"),v=i("../crc32"),h=i("../signature");function g(o,m,s,f){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=s,this.encodeFileName=f,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(g,l),g.prototype.push=function(o){var m=o.meta.percent||0,s=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,l.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:s?(m+100*(s-f-1))/s:100}}))},g.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var m=this.streamFiles&&!o.file.dir;if(m){var s=a(o,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(o){this.accumulate=!1;var m=this.streamFiles&&!o.file.dir,s=a(o,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),m)this.push({data:(function(f){return h.DATA_DESCRIPTOR+n(f.crc32,4)+n(f.compressedSize,4)+n(f.uncompressedSize,4)})(o),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var o=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var s=this.bytesWritten-o,f=(function(c,y,x,A,S){var F=r.transformTo("string",S(A));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(c,2)+n(c,2)+n(y,4)+n(x,4)+n(F.length,2)+F})(this.dirRecords.length,s,o,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(o){this._sources.push(o);var m=this;return o.on("data",function(s){m.processChunk(s)}),o.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),o.on("error",function(s){m.error(s)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(o){var m=this._sources;if(!l.prototype.error.call(this,o))return!1;for(var s=0;s<m.length;s++)try{m[s].error(o)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var o=this._sources,m=0;m<o.length;m++)o[m].lock()},C.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,C,u){var n=i("../compressions"),a=i("./ZipFileWorker");u.generateWorker=function(r,l,_){var v=new a(l.streamFiles,_,l.platform,l.encodeFileName),h=0;try{r.forEach(function(g,o){h++;var m=(function(y,x){var A=y||x,S=n[A];if(!S)throw new Error(A+" is not a valid compression method !");return S})(o.options.compression,l.compression),s=o.options.compressionOptions||l.compressionOptions||{},f=o.dir,c=o.date;o._compressWorker(m,s).withStreamInfo("file",{name:g,dir:f,date:c,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(v)}),v.entriesCount=h}catch(g){v.error(g)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,C,u){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var r in this)typeof this[r]!="function"&&(a[r]=this[r]);return a}}(n.prototype=i("./object")).loadAsync=i("./load"),n.support=i("./support"),n.defaults=i("./defaults"),n.version="3.10.1",n.loadAsync=function(a,r){return new n().loadAsync(a,r)},n.external=i("./external"),C.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,C,u){var n=i("./utils"),a=i("./external"),r=i("./utf8"),l=i("./zipEntries"),_=i("./stream/Crc32Probe"),v=i("./nodejsUtils");function h(g){return new a.Promise(function(o,m){var s=g.decompressed.getContentWorker().pipe(new _);s.on("error",function(f){m(f)}).on("end",function(){s.streamInfo.crc32!==g.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}C.exports=function(g,o){var m=this;return o=n.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),v.isNode&&v.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",g,!0,o.optimizedBinaryString,o.base64).then(function(s){var f=new l(o);return f.load(s),f}).then(function(s){var f=[a.Promise.resolve(s)],c=s.files;if(o.checkCRC32)for(var y=0;y<c.length;y++)f.push(h(c[y]));return a.Promise.all(f)}).then(function(s){for(var f=s.shift(),c=f.files,y=0;y<c.length;y++){var x=c[y],A=x.fileNameStr,S=n.resolve(x.fileNameStr);m.file(S,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:o.createFolders}),x.dir||(m.file(S).unsafeOriginalName=A)}return f.zipComment.length&&(m.comment=f.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,C,u){var n=i("../utils"),a=i("../stream/GenericWorker");function r(l,_){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(_)}n.inherits(r,a),r.prototype._bindStream=function(l){var _=this;(this._stream=l).pause(),l.on("data",function(v){_.push({data:v,meta:{percent:0}})}).on("error",function(v){_.isPaused?this.generatedError=v:_.error(v)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},r.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},C.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,C,u){var n=i("readable-stream").Readable;function a(r,l,_){n.call(this,l),this._helper=r;var v=this;r.on("data",function(h,g){v.push(h)||v._helper.pause(),_&&_(g)}).on("error",function(h){v.emit("error",h)}).on("end",function(){v.push(null)})}i("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},C.exports=a},{"../utils":32,"readable-stream":16}],14:[function(i,C,u){C.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(i,C,u){function n(S,F,P){var U,I=r.getTypeOf(F),W=r.extend(P||{},v);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(S=c(S)),W.createFolders&&(U=f(S))&&y.call(this,U,!0);var q=I==="string"&&W.binary===!1&&W.base64===!1;P&&P.binary!==void 0||(W.binary=!q),(F instanceof h&&F.uncompressedSize===0||W.dir||!F||F.length===0)&&(W.base64=!1,W.binary=!0,F="",W.compression="STORE",I="string");var w=null;w=F instanceof h||F instanceof l?F:m.isNode&&m.isStream(F)?new s(S,F):r.prepareContent(S,F,W.binary,W.optimizedBinaryString,W.base64);var B=new g(S,w,W);this.files[S]=B}var a=i("./utf8"),r=i("./utils"),l=i("./stream/GenericWorker"),_=i("./stream/StreamHelper"),v=i("./defaults"),h=i("./compressedObject"),g=i("./zipObject"),o=i("./generate"),m=i("./nodejsUtils"),s=i("./nodejs/NodejsStreamInputAdapter"),f=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var F=S.lastIndexOf("/");return 0<F?S.substring(0,F):""},c=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},y=function(S,F){return F=F!==void 0?F:v.createFolders,S=c(S),this.files[S]||n.call(this,S,null,{dir:!0,createFolders:F}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var F,P,U;for(F in this.files)U=this.files[F],(P=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&S(P,U)},filter:function(S){var F=[];return this.forEach(function(P,U){S(P,U)&&F.push(U)}),F},file:function(S,F,P){if(arguments.length!==1)return S=this.root+S,n.call(this,S,F,P),this;if(x(S)){var U=S;return this.filter(function(W,q){return!q.dir&&U.test(W)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(I,W){return W.dir&&S.test(I)});var F=this.root+S,P=y.call(this,F),U=this.clone();return U.root=P.name,U},remove:function(S){S=this.root+S;var F=this.files[S];if(F||(S.slice(-1)!=="/"&&(S+="/"),F=this.files[S]),F&&!F.dir)delete this.files[S];else for(var P=this.filter(function(I,W){return W.name.slice(0,S.length)===S}),U=0;U<P.length;U++)delete this.files[P[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var F,P={};try{if((P=r.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");r.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var U=P.comment||this.comment||"";F=o.generateWorker(this,P,U)}catch(I){(F=new l("error")).error(I)}return new _(F,P.type||"string",P.mimeType)},generateAsync:function(S,F){return this.generateInternalStream(S).accumulate(F)},generateNodeStream:function(S,F){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(F)}};C.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,C,u){C.exports=i("stream")},{stream:void 0}],17:[function(i,C,u){var n=i("./DataReader");function a(r){n.call(this,r);for(var l=0;l<this.data.length;l++)r[l]=255&r[l]}i("../utils").inherits(a,n),a.prototype.byteAt=function(r){return this.data[this.zero+r]},a.prototype.lastIndexOfSignature=function(r){for(var l=r.charCodeAt(0),_=r.charCodeAt(1),v=r.charCodeAt(2),h=r.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===_&&this.data[g+2]===v&&this.data[g+3]===h)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(r){var l=r.charCodeAt(0),_=r.charCodeAt(1),v=r.charCodeAt(2),h=r.charCodeAt(3),g=this.readData(4);return l===g[0]&&_===g[1]&&v===g[2]&&h===g[3]},a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},C.exports=a},{"../utils":32,"./DataReader":18}],18:[function(i,C,u){var n=i("../utils");function a(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var l,_=0;for(this.checkOffset(r),l=this.index+r-1;l>=this.index;l--)_=(_<<8)+this.byteAt(l);return this.index+=r,_},readString:function(r){return n.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},C.exports=a},{"../utils":32}],19:[function(i,C,u){var n=i("./Uint8ArrayReader");function a(r){n.call(this,r)}i("../utils").inherits(a,n),a.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},C.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,C,u){var n=i("./DataReader");function a(r){n.call(this,r)}i("../utils").inherits(a,n),a.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},a.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},a.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},a.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},C.exports=a},{"../utils":32,"./DataReader":18}],21:[function(i,C,u){var n=i("./ArrayReader");function a(r){n.call(this,r)}i("../utils").inherits(a,n),a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},C.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(i,C,u){var n=i("../utils"),a=i("../support"),r=i("./ArrayReader"),l=i("./StringReader"),_=i("./NodeBufferReader"),v=i("./Uint8ArrayReader");C.exports=function(h){var g=n.getTypeOf(h);return n.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new _(h):a.uint8array?new v(n.transformTo("uint8array",h)):new r(n.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,C,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,C,u){var n=i("./GenericWorker"),a=i("../utils");function r(l){n.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(r,n),r.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},C.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(i,C,u){var n=i("./GenericWorker"),a=i("../crc32");function r(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(r,n),r.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},C.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,C,u){var n=i("../utils"),a=i("./GenericWorker");function r(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}n.inherits(r,a),r.prototype.processChunk=function(l){if(l){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+l.data.length}a.prototype.processChunk.call(this,l)},C.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(i,C,u){var n=i("../utils"),a=i("./GenericWorker");function r(l){a.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(v){_.dataIsReady=!0,_.data=v,_.max=v&&v.length||0,_.type=n.getTypeOf(v),_.isPaused||_._tickAndRepeat()},function(v){_.error(v)})}n.inherits(r,a),r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,_);break;case"uint8array":l=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":l=this.data.slice(this.index,_)}return this.index=_,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},C.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(i,C,u){function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,r){return this._listeners[a].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,r){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,r)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var r=this;return a.on("data",function(l){r.processChunk(l)}),a.on("end",function(){r.end()}),a.on("error",function(l){r.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,r){return this.extraStreamInfo[a]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},C.exports=n},{}],29:[function(i,C,u){var n=i("../utils"),a=i("./ConvertWorker"),r=i("./GenericWorker"),l=i("../base64"),_=i("../support"),v=i("../external"),h=null;if(_.nodestream)try{h=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(m,s){return new v.Promise(function(f,c){var y=[],x=m._internalType,A=m._outputType,S=m._mimeType;m.on("data",function(F,P){y.push(F),s&&s(P)}).on("error",function(F){y=[],c(F)}).on("end",function(){try{var F=(function(P,U,I){switch(P){case"blob":return n.newBlob(n.transformTo("arraybuffer",U),I);case"base64":return l.encode(U);default:return n.transformTo(P,U)}})(A,(function(P,U){var I,W=0,q=null,w=0;for(I=0;I<U.length;I++)w+=U[I].length;switch(P){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(q=new Uint8Array(w),I=0;I<U.length;I++)q.set(U[I],W),W+=U[I].length;return q;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+P+"'")}})(x,y),S);f(F)}catch(P){c(P)}y=[]}).resume()})}function o(m,s,f){var c=s;switch(s){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=s,this._mimeType=f,n.checkSupport(c),this._worker=m.pipe(new a(c)),m.lock()}catch(y){this._worker=new r("error"),this._worker.error(y)}}o.prototype={accumulate:function(m){return g(this,m)},on:function(m,s){var f=this;return m==="data"?this._worker.on(m,function(c){s.call(f,c.data,c.meta)}):this._worker.on(m,function(){n.delay(s,arguments,f)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},m)}},C.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,C,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var n=new ArrayBuffer(0);try{u.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),u.blob=a.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!i("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(i,C,u){for(var n=i("./utils"),a=i("./support"),r=i("./nodejsUtils"),l=i("./stream/GenericWorker"),_=new Array(256),v=0;v<256;v++)_[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;_[254]=_[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}u.utf8encode=function(o){return a.nodebuffer?r.newBufferFrom(o,"utf-8"):(function(m){var s,f,c,y,x,A=m.length,S=0;for(y=0;y<A;y++)(64512&(f=m.charCodeAt(y)))==55296&&y+1<A&&(64512&(c=m.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(c-56320),y++),S+=f<128?1:f<2048?2:f<65536?3:4;for(s=a.uint8array?new Uint8Array(S):new Array(S),y=x=0;x<S;y++)(64512&(f=m.charCodeAt(y)))==55296&&y+1<A&&(64512&(c=m.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(c-56320),y++),f<128?s[x++]=f:(f<2048?s[x++]=192|f>>>6:(f<65536?s[x++]=224|f>>>12:(s[x++]=240|f>>>18,s[x++]=128|f>>>12&63),s[x++]=128|f>>>6&63),s[x++]=128|63&f);return s})(o)},u.utf8decode=function(o){return a.nodebuffer?n.transformTo("nodebuffer",o).toString("utf-8"):(function(m){var s,f,c,y,x=m.length,A=new Array(2*x);for(s=f=0;s<x;)if((c=m[s++])<128)A[f++]=c;else if(4<(y=_[c]))A[f++]=65533,s+=y-1;else{for(c&=y===2?31:y===3?15:7;1<y&&s<x;)c=c<<6|63&m[s++],y--;1<y?A[f++]=65533:c<65536?A[f++]=c:(c-=65536,A[f++]=55296|c>>10&1023,A[f++]=56320|1023&c)}return A.length!==f&&(A.subarray?A=A.subarray(0,f):A.length=f),n.applyFromCharCode(A)})(o=n.transformTo(a.uint8array?"uint8array":"array",o))},n.inherits(h,l),h.prototype.processChunk=function(o){var m=n.transformTo(a.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var s=m;(m=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),m.set(s,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var f=(function(y,x){var A;for((x=x||y.length)>y.length&&(x=y.length),A=x-1;0<=A&&(192&y[A])==128;)A--;return A<0||A===0?x:A+_[y[A]]>x?A:x})(m),c=m;f!==m.length&&(a.uint8array?(c=m.subarray(0,f),this.leftOver=m.subarray(f,m.length)):(c=m.slice(0,f),this.leftOver=m.slice(f,m.length))),this.push({data:u.utf8decode(c),meta:o.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=h,n.inherits(g,l),g.prototype.processChunk=function(o){this.push({data:u.utf8encode(o.data),meta:o.meta})},u.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,C,u){var n=i("./support"),a=i("./base64"),r=i("./nodejsUtils"),l=i("./external");function _(s){return s}function v(s,f){for(var c=0;c<s.length;++c)f[c]=255&s.charCodeAt(c);return f}i("setimmediate"),u.newBlob=function(s,f){u.checkSupport("blob");try{return new Blob([s],{type:f})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(s),c.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(s,f,c){var y=[],x=0,A=s.length;if(A<=c)return String.fromCharCode.apply(null,s);for(;x<A;)f==="array"||f==="nodebuffer"?y.push(String.fromCharCode.apply(null,s.slice(x,Math.min(x+c,A)))):y.push(String.fromCharCode.apply(null,s.subarray(x,Math.min(x+c,A)))),x+=c;return y.join("")},stringifyByChar:function(s){for(var f="",c=0;c<s.length;c++)f+=String.fromCharCode(s[c]);return f},applyCanBeUsed:{uint8array:(function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}})()}};function g(s){var f=65536,c=u.getTypeOf(s),y=!0;if(c==="uint8array"?y=h.applyCanBeUsed.uint8array:c==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<f;)try{return h.stringifyByChunk(s,c,f)}catch{f=Math.floor(f/2)}return h.stringifyByChar(s)}function o(s,f){for(var c=0;c<s.length;c++)f[c]=s[c];return f}u.applyFromCharCode=g;var m={};m.string={string:_,array:function(s){return v(s,new Array(s.length))},arraybuffer:function(s){return m.string.uint8array(s).buffer},uint8array:function(s){return v(s,new Uint8Array(s.length))},nodebuffer:function(s){return v(s,r.allocBuffer(s.length))}},m.array={string:g,array:_,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return r.newBufferFrom(s)}},m.arraybuffer={string:function(s){return g(new Uint8Array(s))},array:function(s){return o(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:_,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return r.newBufferFrom(new Uint8Array(s))}},m.uint8array={string:g,array:function(s){return o(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:_,nodebuffer:function(s){return r.newBufferFrom(s)}},m.nodebuffer={string:g,array:function(s){return o(s,new Array(s.length))},arraybuffer:function(s){return m.nodebuffer.uint8array(s).buffer},uint8array:function(s){return o(s,new Uint8Array(s.length))},nodebuffer:_},u.transformTo=function(s,f){if(f=f||"",!s)return f;u.checkSupport(s);var c=u.getTypeOf(f);return m[c][s](f)},u.resolve=function(s){for(var f=s.split("/"),c=[],y=0;y<f.length;y++){var x=f[y];x==="."||x===""&&y!==0&&y!==f.length-1||(x===".."?c.pop():c.push(x))}return c.join("/")},u.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":n.nodebuffer&&r.isBuffer(s)?"nodebuffer":n.uint8array&&s instanceof Uint8Array?"uint8array":n.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(s){if(!n[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(s){var f,c,y="";for(c=0;c<(s||"").length;c++)y+="\\x"+((f=s.charCodeAt(c))<16?"0":"")+f.toString(16).toUpperCase();return y},u.delay=function(s,f,c){setImmediate(function(){s.apply(c||null,f||[])})},u.inherits=function(s,f){function c(){}c.prototype=f.prototype,s.prototype=new c},u.extend=function(){var s,f,c={};for(s=0;s<arguments.length;s++)for(f in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],f)&&c[f]===void 0&&(c[f]=arguments[s][f]);return c},u.prepareContent=function(s,f,c,y,x){return l.Promise.resolve(f).then(function(A){return n.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,F){var P=new FileReader;P.onload=function(U){S(U.target.result)},P.onerror=function(U){F(U.target.error)},P.readAsArrayBuffer(A)}):A}).then(function(A){var S=u.getTypeOf(A);return S?(S==="arraybuffer"?A=u.transformTo("uint8array",A):S==="string"&&(x?A=a.decode(A):c&&y!==!0&&(A=(function(F){return v(F,n.uint8array?new Uint8Array(F.length):new Array(F.length))})(A))),A):l.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,C,u){var n=i("./reader/readerFor"),a=i("./utils"),r=i("./signature"),l=i("./zipEntry"),_=i("./support");function v(h){this.files=[],this.loadOptions=h}v.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(h)+")")}},isSignature:function(h,g){var o=this.reader.index;this.reader.setIndex(h);var m=this.reader.readString(4)===g;return this.reader.setIndex(o),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),g=_.uint8array?"uint8array":"array",o=a.transformTo(g,h);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,g,o,m=this.zip64EndOfCentralSize-44;0<m;)h=this.reader.readInt(2),g=this.reader.readInt(4),o=this.reader.readData(g),this.zip64ExtensibleData[h]={id:h,length:g,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,g;for(h=0;h<this.files.length;h++)g=this.files[h],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var g=h;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var m=g-o;if(0<m)this.isSignature(g,r.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(h){this.reader=n(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},C.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,C,u){var n=i("./reader/readerFor"),a=i("./utils"),r=i("./compressedObject"),l=i("./crc32"),_=i("./utf8"),v=i("./compressions"),h=i("./support");function g(o,m){this.options=o,this.loadOptions=m}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var m,s;if(o.skip(22),this.fileNameLength=o.readInt(2),s=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=(function(f){for(var c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&v[c].magic===f)return v[c];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,m,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var m=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(m),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var m,s,f,c=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<c;)m=o.readInt(2),s=o.readInt(2),f=o.readData(s),this.extraFields[m]={id:m,length:s,value:f};o.setIndex(c)},handleUTF8:function(){var o=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var s=a.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var c=a.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var m=n(o.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:_.utf8decode(m.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var m=n(o.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:_.utf8decode(m.readData(o.length-5))}return null}},C.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,C,u){function n(m,s,f){this.name=m,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=s,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var a=i("./stream/StreamHelper"),r=i("./stream/DataWorker"),l=i("./utf8"),_=i("./compressedObject"),v=i("./stream/GenericWorker");n.prototype={internalStream:function(m){var s=null,f="string";try{if(!m)throw new Error("No output type specified.");var c=(f=m.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),s=this._decompressWorker();var y=!this._dataBinary;y&&!c&&(s=s.pipe(new l.Utf8EncodeWorker)),!y&&c&&(s=s.pipe(new l.Utf8DecodeWorker))}catch(x){(s=new v("error")).error(x)}return new a(s,f,"")},async:function(m,s){return this.internalStream(m).accumulate(s)},nodeStream:function(m,s){return this.internalStream(m||"nodebuffer").toNodejsStream(s)},_compressWorker:function(m,s){if(this._data instanceof _&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new l.Utf8EncodeWorker)),_.createWorkerFrom(f,m,s)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof v?this._data:new r(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<h.length;o++)n.prototype[h[o]]=g;C.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,C,u){(function(n){var a,r,l=n.MutationObserver||n.WebKitMutationObserver;if(l){var _=0,v=new l(m),h=n.document.createTextNode("");v.observe(h,{characterData:!0}),a=function(){h.data=_=++_%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var s=n.document.createElement("script");s.onreadystatechange=function(){m(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},n.document.documentElement.appendChild(s)}:function(){setTimeout(m,0)};else{var g=new n.MessageChannel;g.port1.onmessage=m,a=function(){g.port2.postMessage(0)}}var o=[];function m(){var s,f;r=!0;for(var c=o.length;c;){for(f=o,o=[],s=-1;++s<c;)f[s]();c=o.length}r=!1}C.exports=function(s){o.push(s)!==1||r||a()}}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,C,u){var n=i("immediate");function a(){}var r={},l=["REJECTED"],_=["FULFILLED"],v=["PENDING"];function h(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,c!==a&&s(this,c)}function g(c,y,x){this.promise=c,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function o(c,y,x){n(function(){var A;try{A=y(x)}catch(S){return r.reject(c,S)}A===c?r.reject(c,new TypeError("Cannot resolve promise with itself")):r.resolve(c,A)})}function m(c){var y=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof y=="function")return function(){y.apply(c,arguments)}}function s(c,y){var x=!1;function A(P){x||(x=!0,r.reject(c,P))}function S(P){x||(x=!0,r.resolve(c,P))}var F=f(function(){y(S,A)});F.status==="error"&&A(F.value)}function f(c,y){var x={};try{x.value=c(y),x.status="success"}catch(A){x.status="error",x.value=A}return x}(C.exports=h).prototype.finally=function(c){if(typeof c!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(c()).then(function(){return x})},function(x){return y.resolve(c()).then(function(){throw x})})},h.prototype.catch=function(c){return this.then(null,c)},h.prototype.then=function(c,y){if(typeof c!="function"&&this.state===_||typeof y!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==v?o(x,this.state===_?c:y,this.outcome):this.queue.push(new g(x,c,y)),x},g.prototype.callFulfilled=function(c){r.resolve(this.promise,c)},g.prototype.otherCallFulfilled=function(c){o(this.promise,this.onFulfilled,c)},g.prototype.callRejected=function(c){r.reject(this.promise,c)},g.prototype.otherCallRejected=function(c){o(this.promise,this.onRejected,c)},r.resolve=function(c,y){var x=f(m,y);if(x.status==="error")return r.reject(c,x.value);var A=x.value;if(A)s(c,A);else{c.state=_,c.outcome=y;for(var S=-1,F=c.queue.length;++S<F;)c.queue[S].callFulfilled(y)}return c},r.reject=function(c,y){c.state=l,c.outcome=y;for(var x=-1,A=c.queue.length;++x<A;)c.queue[x].callRejected(y);return c},h.resolve=function(c){return c instanceof this?c:r.resolve(new this(a),c)},h.reject=function(c){var y=new this(a);return r.reject(y,c)},h.all=function(c){var y=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=c.length,A=!1;if(!x)return this.resolve([]);for(var S=new Array(x),F=0,P=-1,U=new this(a);++P<x;)I(c[P],P);return U;function I(W,q){y.resolve(W).then(function(w){S[q]=w,++F!==x||A||(A=!0,r.resolve(U,S))},function(w){A||(A=!0,r.reject(U,w))})}},h.race=function(c){var y=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=c.length,A=!1;if(!x)return this.resolve([]);for(var S=-1,F=new this(a);++S<x;)P=c[S],y.resolve(P).then(function(U){A||(A=!0,r.resolve(F,U))},function(U){A||(A=!0,r.reject(F,U))});var P;return F}},{immediate:36}],38:[function(i,C,u){var n={};(0,i("./lib/utils/common").assign)(n,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),C.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,C,u){var n=i("./zlib/deflate"),a=i("./utils/common"),r=i("./utils/strings"),l=i("./zlib/messages"),_=i("./zlib/zstream"),v=Object.prototype.toString,h=0,g=-1,o=0,m=8;function s(c){if(!(this instanceof s))return new s(c);this.options=a.assign({level:g,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},c||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var x=n.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==h)throw new Error(l[x]);if(y.header&&n.deflateSetHeader(this.strm,y.header),y.dictionary){var A;if(A=typeof y.dictionary=="string"?r.string2buf(y.dictionary):v.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=n.deflateSetDictionary(this.strm,A))!==h)throw new Error(l[x]);this._dict_set=!0}}function f(c,y){var x=new s(y);if(x.push(c,!0),x.err)throw x.msg||l[x.err];return x.result}s.prototype.push=function(c,y){var x,A,S=this.strm,F=this.options.chunkSize;if(this.ended)return!1;A=y===~~y?y:y===!0?4:0,typeof c=="string"?S.input=r.string2buf(c):v.call(c)==="[object ArrayBuffer]"?S.input=new Uint8Array(c):S.input=c,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(F),S.next_out=0,S.avail_out=F),(x=n.deflate(S,A))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&x!==1);return A===4?(x=n.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):A!==2||(this.onEnd(h),!(S.avail_out=0))},s.prototype.onData=function(c){this.chunks.push(c)},s.prototype.onEnd=function(c){c===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},u.Deflate=s,u.deflate=f,u.deflateRaw=function(c,y){return(y=y||{}).raw=!0,f(c,y)},u.gzip=function(c,y){return(y=y||{}).gzip=!0,f(c,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,C,u){var n=i("./zlib/inflate"),a=i("./utils/common"),r=i("./utils/strings"),l=i("./zlib/constants"),_=i("./zlib/messages"),v=i("./zlib/zstream"),h=i("./zlib/gzheader"),g=Object.prototype.toString;function o(s){if(!(this instanceof o))return new o(s);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},s||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||s&&s.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var c=n.inflateInit2(this.strm,f.windowBits);if(c!==l.Z_OK)throw new Error(_[c]);this.header=new h,n.inflateGetHeader(this.strm,this.header)}function m(s,f){var c=new o(f);if(c.push(s,!0),c.err)throw c.msg||_[c.err];return c.result}o.prototype.push=function(s,f){var c,y,x,A,S,F,P=this.strm,U=this.options.chunkSize,I=this.options.dictionary,W=!1;if(this.ended)return!1;y=f===~~f?f:f===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof s=="string"?P.input=r.binstring2buf(s):g.call(s)==="[object ArrayBuffer]"?P.input=new Uint8Array(s):P.input=s,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new a.Buf8(U),P.next_out=0,P.avail_out=U),(c=n.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(F=typeof I=="string"?r.string2buf(I):g.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,c=n.inflateSetDictionary(this.strm,F)),c===l.Z_BUF_ERROR&&W===!0&&(c=l.Z_OK,W=!1),c!==l.Z_STREAM_END&&c!==l.Z_OK)return this.onEnd(c),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&c!==l.Z_STREAM_END&&(P.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=r.utf8border(P.output,P.next_out),A=P.next_out-x,S=r.buf2string(P.output,x),P.next_out=A,P.avail_out=U-A,A&&a.arraySet(P.output,P.output,x,A,0),this.onData(S)):this.onData(a.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(W=!0)}while((0<P.avail_in||P.avail_out===0)&&c!==l.Z_STREAM_END);return c===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(c=n.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},o.prototype.onData=function(s){this.chunks.push(s)},o.prototype.onEnd=function(s){s===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},u.Inflate=o,u.inflate=m,u.inflateRaw=function(s,f){return(f=f||{}).raw=!0,m(s,f)},u.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,C,u){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(l){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var v=_.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var h in v)v.hasOwnProperty(h)&&(l[h]=v[h])}}return l},u.shrinkBuf=function(l,_){return l.length===_?l:l.subarray?l.subarray(0,_):(l.length=_,l)};var a={arraySet:function(l,_,v,h,g){if(_.subarray&&l.subarray)l.set(_.subarray(v,v+h),g);else for(var o=0;o<h;o++)l[g+o]=_[v+o]},flattenChunks:function(l){var _,v,h,g,o,m;for(_=h=0,v=l.length;_<v;_++)h+=l[_].length;for(m=new Uint8Array(h),_=g=0,v=l.length;_<v;_++)o=l[_],m.set(o,g),g+=o.length;return m}},r={arraySet:function(l,_,v,h,g){for(var o=0;o<h;o++)l[g+o]=_[v+o]},flattenChunks:function(l){return[].concat.apply([],l)}};u.setTyped=function(l){l?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,a)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,r))},u.setTyped(n)},{}],42:[function(i,C,u){var n=i("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var l=new n.Buf8(256),_=0;_<256;_++)l[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function v(h,g){if(g<65537&&(h.subarray&&r||!h.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(h,g));for(var o="",m=0;m<g;m++)o+=String.fromCharCode(h[m]);return o}l[254]=l[254]=1,u.string2buf=function(h){var g,o,m,s,f,c=h.length,y=0;for(s=0;s<c;s++)(64512&(o=h.charCodeAt(s)))==55296&&s+1<c&&(64512&(m=h.charCodeAt(s+1)))==56320&&(o=65536+(o-55296<<10)+(m-56320),s++),y+=o<128?1:o<2048?2:o<65536?3:4;for(g=new n.Buf8(y),s=f=0;f<y;s++)(64512&(o=h.charCodeAt(s)))==55296&&s+1<c&&(64512&(m=h.charCodeAt(s+1)))==56320&&(o=65536+(o-55296<<10)+(m-56320),s++),o<128?g[f++]=o:(o<2048?g[f++]=192|o>>>6:(o<65536?g[f++]=224|o>>>12:(g[f++]=240|o>>>18,g[f++]=128|o>>>12&63),g[f++]=128|o>>>6&63),g[f++]=128|63&o);return g},u.buf2binstring=function(h){return v(h,h.length)},u.binstring2buf=function(h){for(var g=new n.Buf8(h.length),o=0,m=g.length;o<m;o++)g[o]=h.charCodeAt(o);return g},u.buf2string=function(h,g){var o,m,s,f,c=g||h.length,y=new Array(2*c);for(o=m=0;o<c;)if((s=h[o++])<128)y[m++]=s;else if(4<(f=l[s]))y[m++]=65533,o+=f-1;else{for(s&=f===2?31:f===3?15:7;1<f&&o<c;)s=s<<6|63&h[o++],f--;1<f?y[m++]=65533:s<65536?y[m++]=s:(s-=65536,y[m++]=55296|s>>10&1023,y[m++]=56320|1023&s)}return v(y,m)},u.utf8border=function(h,g){var o;for((g=g||h.length)>h.length&&(g=h.length),o=g-1;0<=o&&(192&h[o])==128;)o--;return o<0||o===0?g:o+l[h[o]]>g?o:g}},{"./common":41}],43:[function(i,C,u){C.exports=function(n,a,r,l){for(var _=65535&n|0,v=n>>>16&65535|0,h=0;r!==0;){for(r-=h=2e3<r?2e3:r;v=v+(_=_+a[l++]|0)|0,--h;);_%=65521,v%=65521}return _|v<<16|0}},{}],44:[function(i,C,u){C.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,C,u){var n=(function(){for(var a,r=[],l=0;l<256;l++){a=l;for(var _=0;_<8;_++)a=1&a?3988292384^a>>>1:a>>>1;r[l]=a}return r})();C.exports=function(a,r,l,_){var v=n,h=_+l;a^=-1;for(var g=_;g<h;g++)a=a>>>8^v[255&(a^r[g])];return-1^a}},{}],46:[function(i,C,u){var n,a=i("../utils/common"),r=i("./trees"),l=i("./adler32"),_=i("./crc32"),v=i("./messages"),h=0,g=4,o=0,m=-2,s=-1,f=4,c=2,y=8,x=9,A=286,S=30,F=19,P=2*A+1,U=15,I=3,W=258,q=W+I+1,w=42,B=113,e=1,R=2,Q=3,M=4;function tt(t,D){return t.msg=v[D],D}function $(t){return(t<<1)-(4<t?9:0)}function X(t){for(var D=t.length;0<=--D;)t[D]=0}function T(t){var D=t.state,L=D.pending;L>t.avail_out&&(L=t.avail_out),L!==0&&(a.arraySet(t.output,D.pending_buf,D.pending_out,L,t.next_out),t.next_out+=L,D.pending_out+=L,t.total_out+=L,t.avail_out-=L,D.pending-=L,D.pending===0&&(D.pending_out=0))}function O(t,D){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,D),t.block_start=t.strstart,T(t.strm)}function J(t,D){t.pending_buf[t.pending++]=D}function V(t,D){t.pending_buf[t.pending++]=D>>>8&255,t.pending_buf[t.pending++]=255&D}function G(t,D){var L,p,d=t.max_chain_length,E=t.strstart,N=t.prev_length,j=t.nice_match,z=t.strstart>t.w_size-q?t.strstart-(t.w_size-q):0,Z=t.window,K=t.w_mask,H=t.prev,Y=t.strstart+W,st=Z[E+N-1],rt=Z[E+N];t.prev_length>=t.good_match&&(d>>=2),j>t.lookahead&&(j=t.lookahead);do if(Z[(L=D)+N]===rt&&Z[L+N-1]===st&&Z[L]===Z[E]&&Z[++L]===Z[E+1]){E+=2,L++;do;while(Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&Z[++E]===Z[++L]&&E<Y);if(p=W-(Y-E),E=Y-W,N<p){if(t.match_start=D,j<=(N=p))break;st=Z[E+N-1],rt=Z[E+N]}}while((D=H[D&K])>z&&--d!=0);return N<=t.lookahead?N:t.lookahead}function ot(t){var D,L,p,d,E,N,j,z,Z,K,H=t.w_size;do{if(d=t.window_size-t.lookahead-t.strstart,t.strstart>=H+(H-q)){for(a.arraySet(t.window,t.window,H,H,0),t.match_start-=H,t.strstart-=H,t.block_start-=H,D=L=t.hash_size;p=t.head[--D],t.head[D]=H<=p?p-H:0,--L;);for(D=L=H;p=t.prev[--D],t.prev[D]=H<=p?p-H:0,--L;);d+=H}if(t.strm.avail_in===0)break;if(N=t.strm,j=t.window,z=t.strstart+t.lookahead,Z=d,K=void 0,K=N.avail_in,Z<K&&(K=Z),L=K===0?0:(N.avail_in-=K,a.arraySet(j,N.input,N.next_in,K,z),N.state.wrap===1?N.adler=l(N.adler,j,K,z):N.state.wrap===2&&(N.adler=_(N.adler,j,K,z)),N.next_in+=K,N.total_in+=K,K),t.lookahead+=L,t.lookahead+t.insert>=I)for(E=t.strstart-t.insert,t.ins_h=t.window[E],t.ins_h=(t.ins_h<<t.hash_shift^t.window[E+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[E+I-1])&t.hash_mask,t.prev[E&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=E,E++,t.insert--,!(t.lookahead+t.insert<I)););}while(t.lookahead<q&&t.strm.avail_in!==0)}function ht(t,D){for(var L,p;;){if(t.lookahead<q){if(ot(t),t.lookahead<q&&D===h)return e;if(t.lookahead===0)break}if(L=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,L=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),L!==0&&t.strstart-L<=t.w_size-q&&(t.match_length=G(t,L)),t.match_length>=I)if(p=r._tr_tally(t,t.strstart-t.match_start,t.match_length-I),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=I){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,L=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else p=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(p&&(O(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<I-1?t.strstart:I-1,D===g?(O(t,!0),t.strm.avail_out===0?Q:M):t.last_lit&&(O(t,!1),t.strm.avail_out===0)?e:R}function et(t,D){for(var L,p,d;;){if(t.lookahead<q){if(ot(t),t.lookahead<q&&D===h)return e;if(t.lookahead===0)break}if(L=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,L=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=I-1,L!==0&&t.prev_length<t.max_lazy_match&&t.strstart-L<=t.w_size-q&&(t.match_length=G(t,L),t.match_length<=5&&(t.strategy===1||t.match_length===I&&4096<t.strstart-t.match_start)&&(t.match_length=I-1)),t.prev_length>=I&&t.match_length<=t.prev_length){for(d=t.strstart+t.lookahead-I,p=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-I),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=d&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,L=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=I-1,t.strstart++,p&&(O(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((p=r._tr_tally(t,0,t.window[t.strstart-1]))&&O(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(p=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<I-1?t.strstart:I-1,D===g?(O(t,!0),t.strm.avail_out===0?Q:M):t.last_lit&&(O(t,!1),t.strm.avail_out===0)?e:R}function it(t,D,L,p,d){this.good_length=t,this.max_lazy=D,this.nice_length=L,this.max_chain=p,this.func=d}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*P),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*F+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*A+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function lt(t){var D;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=c,(D=t.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?w:B,t.adler=D.wrap===2?0:1,D.last_flush=h,r._tr_init(D),o):tt(t,m)}function gt(t){var D=lt(t);return D===o&&(function(L){L.window_size=2*L.w_size,X(L.head),L.max_lazy_match=n[L.level].max_lazy,L.good_match=n[L.level].good_length,L.nice_match=n[L.level].nice_length,L.max_chain_length=n[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=I-1,L.match_available=0,L.ins_h=0})(t.state),D}function mt(t,D,L,p,d,E){if(!t)return m;var N=1;if(D===s&&(D=6),p<0?(N=0,p=-p):15<p&&(N=2,p-=16),d<1||x<d||L!==y||p<8||15<p||D<0||9<D||E<0||f<E)return tt(t,m);p===8&&(p=9);var j=new ut;return(t.state=j).strm=t,j.wrap=N,j.gzhead=null,j.w_bits=p,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=d+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+I-1)/I),j.window=new a.Buf8(2*j.w_size),j.head=new a.Buf16(j.hash_size),j.prev=new a.Buf16(j.w_size),j.lit_bufsize=1<<d+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new a.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=D,j.strategy=E,j.method=L,gt(t)}n=[new it(0,0,0,0,function(t,D){var L=65535;for(L>t.pending_buf_size-5&&(L=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),t.lookahead===0&&D===h)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var p=t.block_start+L;if((t.strstart===0||t.strstart>=p)&&(t.lookahead=t.strstart-p,t.strstart=p,O(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-q&&(O(t,!1),t.strm.avail_out===0))return e}return t.insert=0,D===g?(O(t,!0),t.strm.avail_out===0?Q:M):(t.strstart>t.block_start&&(O(t,!1),t.strm.avail_out),e)}),new it(4,4,8,4,ht),new it(4,5,16,8,ht),new it(4,6,32,32,ht),new it(4,4,16,16,et),new it(8,16,32,32,et),new it(8,16,128,128,et),new it(8,32,128,256,et),new it(32,128,258,1024,et),new it(32,258,258,4096,et)],u.deflateInit=function(t,D){return mt(t,D,y,15,8,0)},u.deflateInit2=mt,u.deflateReset=gt,u.deflateResetKeep=lt,u.deflateSetHeader=function(t,D){return t&&t.state?t.state.wrap!==2?m:(t.state.gzhead=D,o):m},u.deflate=function(t,D){var L,p,d,E;if(!t||!t.state||5<D||D<0)return t?tt(t,m):m;if(p=t.state,!t.output||!t.input&&t.avail_in!==0||p.status===666&&D!==g)return tt(t,t.avail_out===0?-5:m);if(p.strm=t,L=p.last_flush,p.last_flush=D,p.status===w)if(p.wrap===2)t.adler=0,J(p,31),J(p,139),J(p,8),p.gzhead?(J(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),J(p,255&p.gzhead.time),J(p,p.gzhead.time>>8&255),J(p,p.gzhead.time>>16&255),J(p,p.gzhead.time>>24&255),J(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),J(p,255&p.gzhead.os),p.gzhead.extra&&p.gzhead.extra.length&&(J(p,255&p.gzhead.extra.length),J(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(t.adler=_(t.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=69):(J(p,0),J(p,0),J(p,0),J(p,0),J(p,0),J(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),J(p,3),p.status=B);else{var N=y+(p.w_bits-8<<4)<<8;N|=(2<=p.strategy||p.level<2?0:p.level<6?1:p.level===6?2:3)<<6,p.strstart!==0&&(N|=32),N+=31-N%31,p.status=B,V(p,N),p.strstart!==0&&(V(p,t.adler>>>16),V(p,65535&t.adler)),t.adler=1}if(p.status===69)if(p.gzhead.extra){for(d=p.pending;p.gzindex<(65535&p.gzhead.extra.length)&&(p.pending!==p.pending_buf_size||(p.gzhead.hcrc&&p.pending>d&&(t.adler=_(t.adler,p.pending_buf,p.pending-d,d)),T(t),d=p.pending,p.pending!==p.pending_buf_size));)J(p,255&p.gzhead.extra[p.gzindex]),p.gzindex++;p.gzhead.hcrc&&p.pending>d&&(t.adler=_(t.adler,p.pending_buf,p.pending-d,d)),p.gzindex===p.gzhead.extra.length&&(p.gzindex=0,p.status=73)}else p.status=73;if(p.status===73)if(p.gzhead.name){d=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>d&&(t.adler=_(t.adler,p.pending_buf,p.pending-d,d)),T(t),d=p.pending,p.pending===p.pending_buf_size)){E=1;break}E=p.gzindex<p.gzhead.name.length?255&p.gzhead.name.charCodeAt(p.gzindex++):0,J(p,E)}while(E!==0);p.gzhead.hcrc&&p.pending>d&&(t.adler=_(t.adler,p.pending_buf,p.pending-d,d)),E===0&&(p.gzindex=0,p.status=91)}else p.status=91;if(p.status===91)if(p.gzhead.comment){d=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>d&&(t.adler=_(t.adler,p.pending_buf,p.pending-d,d)),T(t),d=p.pending,p.pending===p.pending_buf_size)){E=1;break}E=p.gzindex<p.gzhead.comment.length?255&p.gzhead.comment.charCodeAt(p.gzindex++):0,J(p,E)}while(E!==0);p.gzhead.hcrc&&p.pending>d&&(t.adler=_(t.adler,p.pending_buf,p.pending-d,d)),E===0&&(p.status=103)}else p.status=103;if(p.status===103&&(p.gzhead.hcrc?(p.pending+2>p.pending_buf_size&&T(t),p.pending+2<=p.pending_buf_size&&(J(p,255&t.adler),J(p,t.adler>>8&255),t.adler=0,p.status=B)):p.status=B),p.pending!==0){if(T(t),t.avail_out===0)return p.last_flush=-1,o}else if(t.avail_in===0&&$(D)<=$(L)&&D!==g)return tt(t,-5);if(p.status===666&&t.avail_in!==0)return tt(t,-5);if(t.avail_in!==0||p.lookahead!==0||D!==h&&p.status!==666){var j=p.strategy===2?(function(z,Z){for(var K;;){if(z.lookahead===0&&(ot(z),z.lookahead===0)){if(Z===h)return e;break}if(z.match_length=0,K=r._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,K&&(O(z,!1),z.strm.avail_out===0))return e}return z.insert=0,Z===g?(O(z,!0),z.strm.avail_out===0?Q:M):z.last_lit&&(O(z,!1),z.strm.avail_out===0)?e:R})(p,D):p.strategy===3?(function(z,Z){for(var K,H,Y,st,rt=z.window;;){if(z.lookahead<=W){if(ot(z),z.lookahead<=W&&Z===h)return e;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=I&&0<z.strstart&&(H=rt[Y=z.strstart-1])===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]){st=z.strstart+W;do;while(H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&H===rt[++Y]&&Y<st);z.match_length=W-(st-Y),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=I?(K=r._tr_tally(z,1,z.match_length-I),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(K=r._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),K&&(O(z,!1),z.strm.avail_out===0))return e}return z.insert=0,Z===g?(O(z,!0),z.strm.avail_out===0?Q:M):z.last_lit&&(O(z,!1),z.strm.avail_out===0)?e:R})(p,D):n[p.level].func(p,D);if(j!==Q&&j!==M||(p.status=666),j===e||j===Q)return t.avail_out===0&&(p.last_flush=-1),o;if(j===R&&(D===1?r._tr_align(p):D!==5&&(r._tr_stored_block(p,0,0,!1),D===3&&(X(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),T(t),t.avail_out===0))return p.last_flush=-1,o}return D!==g?o:p.wrap<=0?1:(p.wrap===2?(J(p,255&t.adler),J(p,t.adler>>8&255),J(p,t.adler>>16&255),J(p,t.adler>>24&255),J(p,255&t.total_in),J(p,t.total_in>>8&255),J(p,t.total_in>>16&255),J(p,t.total_in>>24&255)):(V(p,t.adler>>>16),V(p,65535&t.adler)),T(t),0<p.wrap&&(p.wrap=-p.wrap),p.pending!==0?o:1)},u.deflateEnd=function(t){var D;return t&&t.state?(D=t.state.status)!==w&&D!==69&&D!==73&&D!==91&&D!==103&&D!==B&&D!==666?tt(t,m):(t.state=null,D===B?tt(t,-3):o):m},u.deflateSetDictionary=function(t,D){var L,p,d,E,N,j,z,Z,K=D.length;if(!t||!t.state||(E=(L=t.state).wrap)===2||E===1&&L.status!==w||L.lookahead)return m;for(E===1&&(t.adler=l(t.adler,D,K,0)),L.wrap=0,K>=L.w_size&&(E===0&&(X(L.head),L.strstart=0,L.block_start=0,L.insert=0),Z=new a.Buf8(L.w_size),a.arraySet(Z,D,K-L.w_size,L.w_size,0),D=Z,K=L.w_size),N=t.avail_in,j=t.next_in,z=t.input,t.avail_in=K,t.next_in=0,t.input=D,ot(L);L.lookahead>=I;){for(p=L.strstart,d=L.lookahead-(I-1);L.ins_h=(L.ins_h<<L.hash_shift^L.window[p+I-1])&L.hash_mask,L.prev[p&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=p,p++,--d;);L.strstart=p,L.lookahead=I-1,ot(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=I-1,L.match_available=0,t.next_in=j,t.input=z,t.avail_in=N,L.wrap=E,o},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,C,u){C.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,C,u){C.exports=function(n,a){var r,l,_,v,h,g,o,m,s,f,c,y,x,A,S,F,P,U,I,W,q,w,B,e,R;r=n.state,l=n.next_in,e=n.input,_=l+(n.avail_in-5),v=n.next_out,R=n.output,h=v-(a-n.avail_out),g=v+(n.avail_out-257),o=r.dmax,m=r.wsize,s=r.whave,f=r.wnext,c=r.window,y=r.hold,x=r.bits,A=r.lencode,S=r.distcode,F=(1<<r.lenbits)-1,P=(1<<r.distbits)-1;t:do{x<15&&(y+=e[l++]<<x,x+=8,y+=e[l++]<<x,x+=8),U=A[y&F];e:for(;;){if(y>>>=I=U>>>24,x-=I,(I=U>>>16&255)===0)R[v++]=65535&U;else{if(!(16&I)){if((64&I)==0){U=A[(65535&U)+(y&(1<<I)-1)];continue e}if(32&I){r.mode=12;break t}n.msg="invalid literal/length code",r.mode=30;break t}W=65535&U,(I&=15)&&(x<I&&(y+=e[l++]<<x,x+=8),W+=y&(1<<I)-1,y>>>=I,x-=I),x<15&&(y+=e[l++]<<x,x+=8,y+=e[l++]<<x,x+=8),U=S[y&P];r:for(;;){if(y>>>=I=U>>>24,x-=I,!(16&(I=U>>>16&255))){if((64&I)==0){U=S[(65535&U)+(y&(1<<I)-1)];continue r}n.msg="invalid distance code",r.mode=30;break t}if(q=65535&U,x<(I&=15)&&(y+=e[l++]<<x,(x+=8)<I&&(y+=e[l++]<<x,x+=8)),o<(q+=y&(1<<I)-1)){n.msg="invalid distance too far back",r.mode=30;break t}if(y>>>=I,x-=I,(I=v-h)<q){if(s<(I=q-I)&&r.sane){n.msg="invalid distance too far back",r.mode=30;break t}if(B=c,(w=0)===f){if(w+=m-I,I<W){for(W-=I;R[v++]=c[w++],--I;);w=v-q,B=R}}else if(f<I){if(w+=m+f-I,(I-=f)<W){for(W-=I;R[v++]=c[w++],--I;);if(w=0,f<W){for(W-=I=f;R[v++]=c[w++],--I;);w=v-q,B=R}}}else if(w+=f-I,I<W){for(W-=I;R[v++]=c[w++],--I;);w=v-q,B=R}for(;2<W;)R[v++]=B[w++],R[v++]=B[w++],R[v++]=B[w++],W-=3;W&&(R[v++]=B[w++],1<W&&(R[v++]=B[w++]))}else{for(w=v-q;R[v++]=R[w++],R[v++]=R[w++],R[v++]=R[w++],2<(W-=3););W&&(R[v++]=R[w++],1<W&&(R[v++]=R[w++]))}break}}break}}while(l<_&&v<g);l-=W=x>>3,y&=(1<<(x-=W<<3))-1,n.next_in=l,n.next_out=v,n.avail_in=l<_?_-l+5:5-(l-_),n.avail_out=v<g?g-v+257:257-(v-g),r.hold=y,r.bits=x}},{}],49:[function(i,C,u){var n=i("../utils/common"),a=i("./adler32"),r=i("./crc32"),l=i("./inffast"),_=i("./inftrees"),v=1,h=2,g=0,o=-2,m=1,s=852,f=592;function c(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(w){var B;return w&&w.state?(B=w.state,w.total_in=w.total_out=B.total=0,w.msg="",B.wrap&&(w.adler=1&B.wrap),B.mode=m,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new n.Buf32(s),B.distcode=B.distdyn=new n.Buf32(f),B.sane=1,B.back=-1,g):o}function A(w){var B;return w&&w.state?((B=w.state).wsize=0,B.whave=0,B.wnext=0,x(w)):o}function S(w,B){var e,R;return w&&w.state?(R=w.state,B<0?(e=0,B=-B):(e=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?o:(R.window!==null&&R.wbits!==B&&(R.window=null),R.wrap=e,R.wbits=B,A(w))):o}function F(w,B){var e,R;return w?(R=new y,(w.state=R).window=null,(e=S(w,B))!==g&&(w.state=null),e):o}var P,U,I=!0;function W(w){if(I){var B;for(P=new n.Buf32(512),U=new n.Buf32(32),B=0;B<144;)w.lens[B++]=8;for(;B<256;)w.lens[B++]=9;for(;B<280;)w.lens[B++]=7;for(;B<288;)w.lens[B++]=8;for(_(v,w.lens,0,288,P,0,w.work,{bits:9}),B=0;B<32;)w.lens[B++]=5;_(h,w.lens,0,32,U,0,w.work,{bits:5}),I=!1}w.lencode=P,w.lenbits=9,w.distcode=U,w.distbits=5}function q(w,B,e,R){var Q,M=w.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new n.Buf8(M.wsize)),R>=M.wsize?(n.arraySet(M.window,B,e-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(R<(Q=M.wsize-M.wnext)&&(Q=R),n.arraySet(M.window,B,e-R,Q,M.wnext),(R-=Q)?(n.arraySet(M.window,B,e-R,R,0),M.wnext=R,M.whave=M.wsize):(M.wnext+=Q,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=Q))),0}u.inflateReset=A,u.inflateReset2=S,u.inflateResetKeep=x,u.inflateInit=function(w){return F(w,15)},u.inflateInit2=F,u.inflate=function(w,B){var e,R,Q,M,tt,$,X,T,O,J,V,G,ot,ht,et,it,ut,lt,gt,mt,t,D,L,p,d=0,E=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return o;(e=w.state).mode===12&&(e.mode=13),tt=w.next_out,Q=w.output,X=w.avail_out,M=w.next_in,R=w.input,$=w.avail_in,T=e.hold,O=e.bits,J=$,V=X,D=g;t:for(;;)switch(e.mode){case m:if(e.wrap===0){e.mode=13;break}for(;O<16;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(2&e.wrap&&T===35615){E[e.check=0]=255&T,E[1]=T>>>8&255,e.check=r(e.check,E,2,0),O=T=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&T)<<8)+(T>>8))%31){w.msg="incorrect header check",e.mode=30;break}if((15&T)!=8){w.msg="unknown compression method",e.mode=30;break}if(O-=4,t=8+(15&(T>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){w.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,w.adler=e.check=1,e.mode=512&T?10:12,O=T=0;break;case 2:for(;O<16;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(e.flags=T,(255&e.flags)!=8){w.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){w.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=T>>8&1),512&e.flags&&(E[0]=255&T,E[1]=T>>>8&255,e.check=r(e.check,E,2,0)),O=T=0,e.mode=3;case 3:for(;O<32;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}e.head&&(e.head.time=T),512&e.flags&&(E[0]=255&T,E[1]=T>>>8&255,E[2]=T>>>16&255,E[3]=T>>>24&255,e.check=r(e.check,E,4,0)),O=T=0,e.mode=4;case 4:for(;O<16;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}e.head&&(e.head.xflags=255&T,e.head.os=T>>8),512&e.flags&&(E[0]=255&T,E[1]=T>>>8&255,e.check=r(e.check,E,2,0)),O=T=0,e.mode=5;case 5:if(1024&e.flags){for(;O<16;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}e.length=T,e.head&&(e.head.extra_len=T),512&e.flags&&(E[0]=255&T,E[1]=T>>>8&255,e.check=r(e.check,E,2,0)),O=T=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&($<(G=e.length)&&(G=$),G&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),n.arraySet(e.head.extra,R,M,G,t)),512&e.flags&&(e.check=r(e.check,R,G,M)),$-=G,M+=G,e.length-=G),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if($===0)break t;for(G=0;t=R[M+G++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&G<$;);if(512&e.flags&&(e.check=r(e.check,R,G,M)),$-=G,M+=G,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if($===0)break t;for(G=0;t=R[M+G++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&G<$;);if(512&e.flags&&(e.check=r(e.check,R,G,M)),$-=G,M+=G,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;O<16;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(T!==(65535&e.check)){w.msg="header crc mismatch",e.mode=30;break}O=T=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),w.adler=e.check=0,e.mode=12;break;case 10:for(;O<32;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}w.adler=e.check=c(T),O=T=0,e.mode=11;case 11:if(e.havedict===0)return w.next_out=tt,w.avail_out=X,w.next_in=M,w.avail_in=$,e.hold=T,e.bits=O,2;w.adler=e.check=1,e.mode=12;case 12:if(B===5||B===6)break t;case 13:if(e.last){T>>>=7&O,O-=7&O,e.mode=27;break}for(;O<3;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}switch(e.last=1&T,O-=1,3&(T>>>=1)){case 0:e.mode=14;break;case 1:if(W(e),e.mode=20,B!==6)break;T>>>=2,O-=2;break t;case 2:e.mode=17;break;case 3:w.msg="invalid block type",e.mode=30}T>>>=2,O-=2;break;case 14:for(T>>>=7&O,O-=7&O;O<32;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if((65535&T)!=(T>>>16^65535)){w.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&T,O=T=0,e.mode=15,B===6)break t;case 15:e.mode=16;case 16:if(G=e.length){if($<G&&(G=$),X<G&&(G=X),G===0)break t;n.arraySet(Q,R,M,G,tt),$-=G,M+=G,X-=G,tt+=G,e.length-=G;break}e.mode=12;break;case 17:for(;O<14;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(e.nlen=257+(31&T),T>>>=5,O-=5,e.ndist=1+(31&T),T>>>=5,O-=5,e.ncode=4+(15&T),T>>>=4,O-=4,286<e.nlen||30<e.ndist){w.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;O<3;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}e.lens[N[e.have++]]=7&T,T>>>=3,O-=3}for(;e.have<19;)e.lens[N[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,L={bits:e.lenbits},D=_(0,e.lens,0,19,e.lencode,0,e.work,L),e.lenbits=L.bits,D){w.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;it=(d=e.lencode[T&(1<<e.lenbits)-1])>>>16&255,ut=65535&d,!((et=d>>>24)<=O);){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(ut<16)T>>>=et,O-=et,e.lens[e.have++]=ut;else{if(ut===16){for(p=et+2;O<p;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(T>>>=et,O-=et,e.have===0){w.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],G=3+(3&T),T>>>=2,O-=2}else if(ut===17){for(p=et+3;O<p;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}O-=et,t=0,G=3+(7&(T>>>=et)),T>>>=3,O-=3}else{for(p=et+7;O<p;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}O-=et,t=0,G=11+(127&(T>>>=et)),T>>>=7,O-=7}if(e.have+G>e.nlen+e.ndist){w.msg="invalid bit length repeat",e.mode=30;break}for(;G--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){w.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,L={bits:e.lenbits},D=_(v,e.lens,0,e.nlen,e.lencode,0,e.work,L),e.lenbits=L.bits,D){w.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,L={bits:e.distbits},D=_(h,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,L),e.distbits=L.bits,D){w.msg="invalid distances set",e.mode=30;break}if(e.mode=20,B===6)break t;case 20:e.mode=21;case 21:if(6<=$&&258<=X){w.next_out=tt,w.avail_out=X,w.next_in=M,w.avail_in=$,e.hold=T,e.bits=O,l(w,V),tt=w.next_out,Q=w.output,X=w.avail_out,M=w.next_in,R=w.input,$=w.avail_in,T=e.hold,O=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;it=(d=e.lencode[T&(1<<e.lenbits)-1])>>>16&255,ut=65535&d,!((et=d>>>24)<=O);){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(it&&(240&it)==0){for(lt=et,gt=it,mt=ut;it=(d=e.lencode[mt+((T&(1<<lt+gt)-1)>>lt)])>>>16&255,ut=65535&d,!(lt+(et=d>>>24)<=O);){if($===0)break t;$--,T+=R[M++]<<O,O+=8}T>>>=lt,O-=lt,e.back+=lt}if(T>>>=et,O-=et,e.back+=et,e.length=ut,it===0){e.mode=26;break}if(32&it){e.back=-1,e.mode=12;break}if(64&it){w.msg="invalid literal/length code",e.mode=30;break}e.extra=15&it,e.mode=22;case 22:if(e.extra){for(p=e.extra;O<p;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}e.length+=T&(1<<e.extra)-1,T>>>=e.extra,O-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;it=(d=e.distcode[T&(1<<e.distbits)-1])>>>16&255,ut=65535&d,!((et=d>>>24)<=O);){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if((240&it)==0){for(lt=et,gt=it,mt=ut;it=(d=e.distcode[mt+((T&(1<<lt+gt)-1)>>lt)])>>>16&255,ut=65535&d,!(lt+(et=d>>>24)<=O);){if($===0)break t;$--,T+=R[M++]<<O,O+=8}T>>>=lt,O-=lt,e.back+=lt}if(T>>>=et,O-=et,e.back+=et,64&it){w.msg="invalid distance code",e.mode=30;break}e.offset=ut,e.extra=15&it,e.mode=24;case 24:if(e.extra){for(p=e.extra;O<p;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}e.offset+=T&(1<<e.extra)-1,T>>>=e.extra,O-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){w.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(X===0)break t;if(G=V-X,e.offset>G){if((G=e.offset-G)>e.whave&&e.sane){w.msg="invalid distance too far back",e.mode=30;break}ot=G>e.wnext?(G-=e.wnext,e.wsize-G):e.wnext-G,G>e.length&&(G=e.length),ht=e.window}else ht=Q,ot=tt-e.offset,G=e.length;for(X<G&&(G=X),X-=G,e.length-=G;Q[tt++]=ht[ot++],--G;);e.length===0&&(e.mode=21);break;case 26:if(X===0)break t;Q[tt++]=e.length,X--,e.mode=21;break;case 27:if(e.wrap){for(;O<32;){if($===0)break t;$--,T|=R[M++]<<O,O+=8}if(V-=X,w.total_out+=V,e.total+=V,V&&(w.adler=e.check=e.flags?r(e.check,Q,V,tt-V):a(e.check,Q,V,tt-V)),V=X,(e.flags?T:c(T))!==e.check){w.msg="incorrect data check",e.mode=30;break}O=T=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;O<32;){if($===0)break t;$--,T+=R[M++]<<O,O+=8}if(T!==(4294967295&e.total)){w.msg="incorrect length check",e.mode=30;break}O=T=0}e.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;default:return o}return w.next_out=tt,w.avail_out=X,w.next_in=M,w.avail_in=$,e.hold=T,e.bits=O,(e.wsize||V!==w.avail_out&&e.mode<30&&(e.mode<27||B!==4))&&q(w,w.output,w.next_out,V-w.avail_out)?(e.mode=31,-4):(J-=w.avail_in,V-=w.avail_out,w.total_in+=J,w.total_out+=V,e.total+=V,e.wrap&&V&&(w.adler=e.check=e.flags?r(e.check,Q,V,w.next_out-V):a(e.check,Q,V,w.next_out-V)),w.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(J==0&&V===0||B===4)&&D===g&&(D=-5),D)},u.inflateEnd=function(w){if(!w||!w.state)return o;var B=w.state;return B.window&&(B.window=null),w.state=null,g},u.inflateGetHeader=function(w,B){var e;return w&&w.state?(2&(e=w.state).wrap)==0?o:((e.head=B).done=!1,g):o},u.inflateSetDictionary=function(w,B){var e,R=B.length;return w&&w.state?(e=w.state).wrap!==0&&e.mode!==11?o:e.mode===11&&a(1,B,R,0)!==e.check?-3:q(w,B,R,R)?(e.mode=31,-4):(e.havedict=1,g):o},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,C,u){var n=i("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];C.exports=function(v,h,g,o,m,s,f,c){var y,x,A,S,F,P,U,I,W,q=c.bits,w=0,B=0,e=0,R=0,Q=0,M=0,tt=0,$=0,X=0,T=0,O=null,J=0,V=new n.Buf16(16),G=new n.Buf16(16),ot=null,ht=0;for(w=0;w<=15;w++)V[w]=0;for(B=0;B<o;B++)V[h[g+B]]++;for(Q=q,R=15;1<=R&&V[R]===0;R--);if(R<Q&&(Q=R),R===0)return m[s++]=20971520,m[s++]=20971520,c.bits=1,0;for(e=1;e<R&&V[e]===0;e++);for(Q<e&&(Q=e),w=$=1;w<=15;w++)if($<<=1,($-=V[w])<0)return-1;if(0<$&&(v===0||R!==1))return-1;for(G[1]=0,w=1;w<15;w++)G[w+1]=G[w]+V[w];for(B=0;B<o;B++)h[g+B]!==0&&(f[G[h[g+B]]++]=B);if(P=v===0?(O=ot=f,19):v===1?(O=a,J-=257,ot=r,ht-=257,256):(O=l,ot=_,-1),w=e,F=s,tt=B=T=0,A=-1,S=(X=1<<(M=Q))-1,v===1&&852<X||v===2&&592<X)return 1;for(;;){for(U=w-tt,W=f[B]<P?(I=0,f[B]):f[B]>P?(I=ot[ht+f[B]],O[J+f[B]]):(I=96,0),y=1<<w-tt,e=x=1<<M;m[F+(T>>tt)+(x-=y)]=U<<24|I<<16|W|0,x!==0;);for(y=1<<w-1;T&y;)y>>=1;if(y!==0?(T&=y-1,T+=y):T=0,B++,--V[w]==0){if(w===R)break;w=h[g+f[B]]}if(Q<w&&(T&S)!==A){for(tt===0&&(tt=Q),F+=e,$=1<<(M=w-tt);M+tt<R&&!(($-=V[M+tt])<=0);)M++,$<<=1;if(X+=1<<M,v===1&&852<X||v===2&&592<X)return 1;m[A=T&S]=Q<<24|M<<16|F-s|0}}return T!==0&&(m[F+T]=w-tt<<24|64<<16|0),c.bits=Q,0}},{"../utils/common":41}],51:[function(i,C,u){C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,C,u){var n=i("../utils/common"),a=0,r=1;function l(d){for(var E=d.length;0<=--E;)d[E]=0}var _=0,v=29,h=256,g=h+1+v,o=30,m=19,s=2*g+1,f=15,c=16,y=7,x=256,A=16,S=17,F=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(g+2));l(q);var w=new Array(2*o);l(w);var B=new Array(512);l(B);var e=new Array(256);l(e);var R=new Array(v);l(R);var Q,M,tt,$=new Array(o);function X(d,E,N,j,z){this.static_tree=d,this.extra_bits=E,this.extra_base=N,this.elems=j,this.max_length=z,this.has_stree=d&&d.length}function T(d,E){this.dyn_tree=d,this.max_code=0,this.stat_desc=E}function O(d){return d<256?B[d]:B[256+(d>>>7)]}function J(d,E){d.pending_buf[d.pending++]=255&E,d.pending_buf[d.pending++]=E>>>8&255}function V(d,E,N){d.bi_valid>c-N?(d.bi_buf|=E<<d.bi_valid&65535,J(d,d.bi_buf),d.bi_buf=E>>c-d.bi_valid,d.bi_valid+=N-c):(d.bi_buf|=E<<d.bi_valid&65535,d.bi_valid+=N)}function G(d,E,N){V(d,N[2*E],N[2*E+1])}function ot(d,E){for(var N=0;N|=1&d,d>>>=1,N<<=1,0<--E;);return N>>>1}function ht(d,E,N){var j,z,Z=new Array(f+1),K=0;for(j=1;j<=f;j++)Z[j]=K=K+N[j-1]<<1;for(z=0;z<=E;z++){var H=d[2*z+1];H!==0&&(d[2*z]=ot(Z[H]++,H))}}function et(d){var E;for(E=0;E<g;E++)d.dyn_ltree[2*E]=0;for(E=0;E<o;E++)d.dyn_dtree[2*E]=0;for(E=0;E<m;E++)d.bl_tree[2*E]=0;d.dyn_ltree[2*x]=1,d.opt_len=d.static_len=0,d.last_lit=d.matches=0}function it(d){8<d.bi_valid?J(d,d.bi_buf):0<d.bi_valid&&(d.pending_buf[d.pending++]=d.bi_buf),d.bi_buf=0,d.bi_valid=0}function ut(d,E,N,j){var z=2*E,Z=2*N;return d[z]<d[Z]||d[z]===d[Z]&&j[E]<=j[N]}function lt(d,E,N){for(var j=d.heap[N],z=N<<1;z<=d.heap_len&&(z<d.heap_len&&ut(E,d.heap[z+1],d.heap[z],d.depth)&&z++,!ut(E,j,d.heap[z],d.depth));)d.heap[N]=d.heap[z],N=z,z<<=1;d.heap[N]=j}function gt(d,E,N){var j,z,Z,K,H=0;if(d.last_lit!==0)for(;j=d.pending_buf[d.d_buf+2*H]<<8|d.pending_buf[d.d_buf+2*H+1],z=d.pending_buf[d.l_buf+H],H++,j===0?G(d,z,E):(G(d,(Z=e[z])+h+1,E),(K=P[Z])!==0&&V(d,z-=R[Z],K),G(d,Z=O(--j),N),(K=U[Z])!==0&&V(d,j-=$[Z],K)),H<d.last_lit;);G(d,x,E)}function mt(d,E){var N,j,z,Z=E.dyn_tree,K=E.stat_desc.static_tree,H=E.stat_desc.has_stree,Y=E.stat_desc.elems,st=-1;for(d.heap_len=0,d.heap_max=s,N=0;N<Y;N++)Z[2*N]!==0?(d.heap[++d.heap_len]=st=N,d.depth[N]=0):Z[2*N+1]=0;for(;d.heap_len<2;)Z[2*(z=d.heap[++d.heap_len]=st<2?++st:0)]=1,d.depth[z]=0,d.opt_len--,H&&(d.static_len-=K[2*z+1]);for(E.max_code=st,N=d.heap_len>>1;1<=N;N--)lt(d,Z,N);for(z=Y;N=d.heap[1],d.heap[1]=d.heap[d.heap_len--],lt(d,Z,1),j=d.heap[1],d.heap[--d.heap_max]=N,d.heap[--d.heap_max]=j,Z[2*z]=Z[2*N]+Z[2*j],d.depth[z]=(d.depth[N]>=d.depth[j]?d.depth[N]:d.depth[j])+1,Z[2*N+1]=Z[2*j+1]=z,d.heap[1]=z++,lt(d,Z,1),2<=d.heap_len;);d.heap[--d.heap_max]=d.heap[1],(function(rt,pt){var Ct,_t,St,ct,It,Pt,yt=pt.dyn_tree,$t=pt.max_code,ie=pt.stat_desc.static_tree,ae=pt.stat_desc.has_stree,se=pt.stat_desc.extra_bits,Zt=pt.stat_desc.extra_base,At=pt.stat_desc.max_length,Tt=0;for(ct=0;ct<=f;ct++)rt.bl_count[ct]=0;for(yt[2*rt.heap[rt.heap_max]+1]=0,Ct=rt.heap_max+1;Ct<s;Ct++)At<(ct=yt[2*yt[2*(_t=rt.heap[Ct])+1]+1]+1)&&(ct=At,Tt++),yt[2*_t+1]=ct,$t<_t||(rt.bl_count[ct]++,It=0,Zt<=_t&&(It=se[_t-Zt]),Pt=yt[2*_t],rt.opt_len+=Pt*(ct+It),ae&&(rt.static_len+=Pt*(ie[2*_t+1]+It)));if(Tt!==0){do{for(ct=At-1;rt.bl_count[ct]===0;)ct--;rt.bl_count[ct]--,rt.bl_count[ct+1]+=2,rt.bl_count[At]--,Tt-=2}while(0<Tt);for(ct=At;ct!==0;ct--)for(_t=rt.bl_count[ct];_t!==0;)$t<(St=rt.heap[--Ct])||(yt[2*St+1]!==ct&&(rt.opt_len+=(ct-yt[2*St+1])*yt[2*St],yt[2*St+1]=ct),_t--)}})(d,E),ht(Z,st,d.bl_count)}function t(d,E,N){var j,z,Z=-1,K=E[1],H=0,Y=7,st=4;for(K===0&&(Y=138,st=3),E[2*(N+1)+1]=65535,j=0;j<=N;j++)z=K,K=E[2*(j+1)+1],++H<Y&&z===K||(H<st?d.bl_tree[2*z]+=H:z!==0?(z!==Z&&d.bl_tree[2*z]++,d.bl_tree[2*A]++):H<=10?d.bl_tree[2*S]++:d.bl_tree[2*F]++,Z=z,st=(H=0)===K?(Y=138,3):z===K?(Y=6,3):(Y=7,4))}function D(d,E,N){var j,z,Z=-1,K=E[1],H=0,Y=7,st=4;for(K===0&&(Y=138,st=3),j=0;j<=N;j++)if(z=K,K=E[2*(j+1)+1],!(++H<Y&&z===K)){if(H<st)for(;G(d,z,d.bl_tree),--H!=0;);else z!==0?(z!==Z&&(G(d,z,d.bl_tree),H--),G(d,A,d.bl_tree),V(d,H-3,2)):H<=10?(G(d,S,d.bl_tree),V(d,H-3,3)):(G(d,F,d.bl_tree),V(d,H-11,7));Z=z,st=(H=0)===K?(Y=138,3):z===K?(Y=6,3):(Y=7,4)}}l($);var L=!1;function p(d,E,N,j){V(d,(_<<1)+(j?1:0),3),(function(z,Z,K,H){it(z),J(z,K),J(z,~K),n.arraySet(z.pending_buf,z.window,Z,K,z.pending),z.pending+=K})(d,E,N)}u._tr_init=function(d){L||((function(){var E,N,j,z,Z,K=new Array(f+1);for(z=j=0;z<v-1;z++)for(R[z]=j,E=0;E<1<<P[z];E++)e[j++]=z;for(e[j-1]=z,z=Z=0;z<16;z++)for($[z]=Z,E=0;E<1<<U[z];E++)B[Z++]=z;for(Z>>=7;z<o;z++)for($[z]=Z<<7,E=0;E<1<<U[z]-7;E++)B[256+Z++]=z;for(N=0;N<=f;N++)K[N]=0;for(E=0;E<=143;)q[2*E+1]=8,E++,K[8]++;for(;E<=255;)q[2*E+1]=9,E++,K[9]++;for(;E<=279;)q[2*E+1]=7,E++,K[7]++;for(;E<=287;)q[2*E+1]=8,E++,K[8]++;for(ht(q,g+1,K),E=0;E<o;E++)w[2*E+1]=5,w[2*E]=ot(E,5);Q=new X(q,P,h+1,g,f),M=new X(w,U,0,o,f),tt=new X(new Array(0),I,0,m,y)})(),L=!0),d.l_desc=new T(d.dyn_ltree,Q),d.d_desc=new T(d.dyn_dtree,M),d.bl_desc=new T(d.bl_tree,tt),d.bi_buf=0,d.bi_valid=0,et(d)},u._tr_stored_block=p,u._tr_flush_block=function(d,E,N,j){var z,Z,K=0;0<d.level?(d.strm.data_type===2&&(d.strm.data_type=(function(H){var Y,st=4093624447;for(Y=0;Y<=31;Y++,st>>>=1)if(1&st&&H.dyn_ltree[2*Y]!==0)return a;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(Y=32;Y<h;Y++)if(H.dyn_ltree[2*Y]!==0)return r;return a})(d)),mt(d,d.l_desc),mt(d,d.d_desc),K=(function(H){var Y;for(t(H,H.dyn_ltree,H.l_desc.max_code),t(H,H.dyn_dtree,H.d_desc.max_code),mt(H,H.bl_desc),Y=m-1;3<=Y&&H.bl_tree[2*W[Y]+1]===0;Y--);return H.opt_len+=3*(Y+1)+5+5+4,Y})(d),z=d.opt_len+3+7>>>3,(Z=d.static_len+3+7>>>3)<=z&&(z=Z)):z=Z=N+5,N+4<=z&&E!==-1?p(d,E,N,j):d.strategy===4||Z===z?(V(d,2+(j?1:0),3),gt(d,q,w)):(V(d,4+(j?1:0),3),(function(H,Y,st,rt){var pt;for(V(H,Y-257,5),V(H,st-1,5),V(H,rt-4,4),pt=0;pt<rt;pt++)V(H,H.bl_tree[2*W[pt]+1],3);D(H,H.dyn_ltree,Y-1),D(H,H.dyn_dtree,st-1)})(d,d.l_desc.max_code+1,d.d_desc.max_code+1,K+1),gt(d,d.dyn_ltree,d.dyn_dtree)),et(d),j&&it(d)},u._tr_tally=function(d,E,N){return d.pending_buf[d.d_buf+2*d.last_lit]=E>>>8&255,d.pending_buf[d.d_buf+2*d.last_lit+1]=255&E,d.pending_buf[d.l_buf+d.last_lit]=255&N,d.last_lit++,E===0?d.dyn_ltree[2*N]++:(d.matches++,E--,d.dyn_ltree[2*(e[N]+h+1)]++,d.dyn_dtree[2*O(E)]++),d.last_lit===d.lit_bufsize-1},u._tr_align=function(d){V(d,2,3),G(d,x,q),(function(E){E.bi_valid===16?(J(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)})(d)}},{"../utils/common":41}],53:[function(i,C,u){C.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,C,u){(function(n){(function(a,r){if(!a.setImmediate){var l,_,v,h,g=1,o={},m=!1,s=a.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(a);f=f&&f.setTimeout?f:a,l={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){y(A)})}:(function(){if(a.postMessage&&!a.importScripts){var A=!0,S=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=S,A}})()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(A){a.postMessage(h+A,"*")}):a.MessageChannel?((v=new MessageChannel).port1.onmessage=function(A){y(A.data)},function(A){v.port2.postMessage(A)}):s&&"onreadystatechange"in s.createElement("script")?(_=s.documentElement,function(A){var S=s.createElement("script");S.onreadystatechange=function(){y(A),S.onreadystatechange=null,_.removeChild(S),S=null},_.appendChild(S)}):function(A){setTimeout(y,0,A)},f.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var S=new Array(arguments.length-1),F=0;F<S.length;F++)S[F]=arguments[F+1];var P={callback:A,args:S};return o[g]=P,l(g),g++},f.clearImmediate=c}function c(A){delete o[A]}function y(A){if(m)setTimeout(y,0,A);else{var S=o[A];if(S){m=!0;try{(function(F){var P=F.callback,U=F.args;switch(U.length){case 0:P();break;case 1:P(U[0]);break;case 2:P(U[0],U[1]);break;case 3:P(U[0],U[1],U[2]);break;default:P.apply(r,U)}})(S)}finally{c(A),m=!1}}}}function x(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(h)===0&&y(+A.data.slice(h.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Dt)),Dt.exports}var Ce=Ee();const Se=xe(Ce),Ae=vt.getPlatform()!=="web";let Ft=null;if(!Ae)Ft=ke({immediate:!0,onNeedRefresh(){Ft?.(!0)}}),window.addEventListener("load",()=>Ft?.());else if("serviceWorker"in navigator){const b="playstori-sw-reset";navigator.serviceWorker.getRegistrations().then(k=>{if(k.length)return Promise.all(k.map(i=>i.unregister())).then(()=>{navigator.serviceWorker.controller&&!sessionStorage.getItem(b)&&(sessionStorage.setItem(b,"1"),window.location.reload())})}).catch(k=>console.warn("Failed to unregister service workers",k))}const nt={gamesGrid:document.getElementById("games-grid"),categoryRibbon:document.getElementById("category-ribbon"),searchShell:document.getElementById("search-shell"),searchInput:document.getElementById("search-input"),searchClear:document.getElementById("search-clear"),toast:document.getElementById("toast"),navHome:document.getElementById("nav-home"),navManager:document.getElementById("nav-manager"),homeView:document.getElementById("home-view"),managerView:document.getElementById("manager-view"),managerList:document.getElementById("manager-list"),storageStats:document.getElementById("storage-stats"),downloadAllBtn:document.getElementById("download-all"),deleteAllBtn:document.getElementById("delete-all")},at={games:[],disabled:new Set,searchTerm:"",activeCategory:"All",view:"home",manifestVersion:0,downloading:new Set},Nt={disabled:"playstori-disabled",manifestVersion:"playstori-manifest-version"},ee=".entry.json",ze=["All"," Brain Puzzles"," Super Arcade"," Fast & Fun"," Classic Tabletop"," Learning Adventures"," Target & Aim"];async function Oe(){const[b,k]=await Promise.all([Ut.get({key:Nt.disabled}),Ut.get({key:Nt.manifestVersion})]);at.disabled=new Set(JSON.parse(b.value||"[]")),at.manifestVersion=parseInt(k.value||"0",10)}async function Ie(){let b=!1;if(vt.getPlatform()!=="web")try{const k=await ft.readFile({path:"games-update.json",directory:dt.Data,encoding:"utf8"}),i=JSON.parse(k.data);at.games=i.games||[],at.manifestVersion=i.manifestVersion||0,b=!0,console.log("Loaded persisted manifest version:",at.manifestVersion)}catch{console.log("No persisted manifest found or failed to parse. Falling back to assets.")}if(!b)try{const k=await fetch("/appstorage/games.json",{cache:"no-cache"});if(k.ok){const i=await k.json();at.games=i?.games||[],at.manifestVersion=i?.manifestVersion||0,console.log("Loaded bundled manifest version:",at.manifestVersion)}}catch(k){console.warn("Local games.json could not be parsed.",k)}try{const k=await te.get({url:"https://playstori.org/appstorage/games.json"});if(k.status===200){const i=k.data,C=typeof i=="string"?JSON.parse(i):i;C&&C.manifestVersion>at.manifestVersion&&(console.log(`Updating manifest: ${at.manifestVersion} -> ${C.manifestVersion}`),at.games=C.games,at.manifestVersion=C.manifestVersion,vt.getPlatform()!=="web"&&await ft.writeFile({path:"games-update.json",data:JSON.stringify(C),directory:dt.Data,encoding:"utf8"}),await Ut.set({key:Nt.manifestVersion,value:String(at.manifestVersion)}),bt())}}catch(k){console.warn("Could not check for remote manifest update",k)}}function xt(b){if(!b)return null;let k=b.replace(/\\/g,"/").trim();for(k=k.replace(/^\.?\//,"");k.startsWith("/");)k=k.slice(1);for(;k.startsWith("../");)k=k.slice(3);return k||null}function Te(b){const i=Object.keys(b.files).filter(u=>!b.files[u].dir).map(u=>u.replace(/\\/g,"/")).filter(u=>u.toLowerCase().endsWith("index.html"));if(!i.length)return null;const C=i.find(u=>!u.includes("/"));return C||i.sort((u,n)=>{const a=u.toLowerCase(),r=n.toLowerCase(),l=a.includes("unmin")||a.includes("debug"),_=r.includes("unmin")||r.includes("debug");if(l!==_)return l?1:-1;const v=a.includes("minify"),h=r.includes("minify");return v!==h?v?-1:1:u.split("/").length-n.split("/").length||u.length-n.length})[0]}function re(b){if(!b?.path||!b?.id)return null;let k=b.path.replace(/\\/g,"/").trim();k=k.replace(/^\/+/,"");const i=`appstorage/games/${b.id}/`;if(k.startsWith(i))return xt(k.slice(i.length));const C=`/appstorage/games/${b.id}/`;if(k.startsWith(C))return xt(k.slice(C.length));const u=`${b.id}/`,n=k.indexOf(u);return xt(n!==-1?k.slice(n+u.length):k)}async function jt(b,k){const i=xt(k);i&&await ft.writeFile({path:`games/${b}/${ee}`,data:JSON.stringify({path:i}),directory:dt.Data,encoding:"utf8"})}async function Le(b){try{const k=await ft.readFile({path:`games/${b}/${ee}`,directory:dt.Data,encoding:"utf8"}),i=JSON.parse(k.data);return xt(i?.path)}catch{return null}}async function Be(b){const i=[`games/${b}`];for(;i.length;){const C=i.shift();let u;try{u=await ft.readdir({path:C,directory:dt.Data})}catch{continue}for(const n of u.files||[]){const a=typeof n=="string"?n:n.name;if(!a)continue;const r=`${C}/${a}`,l=typeof n=="string"?null:n.type;if(l==="directory"){i.push(r);continue}if(a.toLowerCase()==="index.html")return r;if(l==null)try{if((await ft.stat({path:r,directory:dt.Data})).type==="directory")i.push(r);else if(a.toLowerCase()==="index.html")return r}catch{}}}return null}const kt={async isDownloaded(b){try{return(await ft.readdir({path:`games/${b}`,directory:dt.Data})).files.length>0}catch{return!1}},async downloadAndUnpack(b){if(!at.downloading.has(b.id)){at.downloading.add(b.id),bt(),zt();try{const k=`https://playstori.org/appstorage/games/${b.id}.zip`,i=await te.get({url:k,responseType:"arraybuffer"});if(console.log(`Download status for ${b.id}:`,i.status),console.log("Content-Type:",i.headers["Content-Type"]||i.headers["content-type"]),console.log("Data Type:",typeof i.data),i.status!==200)throw new Error(`Server returned status ${i.status}`);if((i.headers["Content-Type"]||i.headers["content-type"]||"").toLowerCase().includes("text/html"))throw new Error("Received HTML instead of a ZIP file. Is the game uploaded to the server?");let u=i.data;if(typeof u=="string"){console.log("Data is string, attempting base64 to ArrayBuffer conversion");try{const v=window.atob(u),h=v.length,g=new Uint8Array(h);for(let o=0;o<h;o++)g[o]=v.charCodeAt(o);u=g.buffer}catch{console.error("Failed to convert string to binary. If it is not base64, JSZip might fail.")}}const n=await Se.loadAsync(u),a=`games/${b.id}`;await ft.mkdir({path:a,directory:dt.Data,recursive:!0}).catch(()=>{});const r=Object.keys(n.files);for(const v of r){const h=n.files[v];if(h.dir)await ft.mkdir({path:`${a}/${v}`,directory:dt.Data,recursive:!0}).catch(()=>{});else{const g=await h.async("base64");await ft.writeFile({path:`${a}/${v}`,data:g,directory:dt.Data})}}const l=Te(n),_=re(b);_?await jt(b.id,_):l&&await jt(b.id,l),wt(`${b.name} is ready to play!`)}catch(k){console.error(k),wt(`Failed to download ${b.name}`)}finally{at.downloading.delete(b.id),bt(),zt()}}},async deleteGame(b){try{await ft.rmdir({path:`games/${b}`,directory:dt.Data,recursive:!0}),bt(),zt(),wt("Game deleted to free up space.")}catch(k){console.error(k),wt("Failed to delete game.")}},async deleteAll(){if(confirm("Are you sure you want to delete ALL downloaded games to free up space?"))try{const b=await ft.readdir({path:"games",directory:dt.Data});for(const k of b.files)await ft.rmdir({path:`games/${k.name}`,directory:dt.Data,recursive:!0});bt(),zt(),wt("All local games deleted.")}catch(b){console.error("Delete all failed",b),wt("Cleanup failed.")}}};function wt(b){nt.toast&&(nt.toast.textContent=b,nt.toast.classList.remove("hidden"),requestAnimationFrame(()=>nt.toast.classList.add("visible")),setTimeout(()=>{nt.toast.classList.remove("visible"),setTimeout(()=>nt.toast.classList.add("hidden"),200)},2200))}async function bt(){if(!nt.gamesGrid)return;const b=at.searchTerm.trim().toLowerCase();let k=at.games.filter(n=>!at.disabled.has(n.id));at.activeCategory!=="All"&&(k=k.filter(n=>n.category===at.activeCategory)),b&&(k=k.filter(n=>n.name.toLowerCase().includes(b)||(n.tag||"").toLowerCase().includes(b)));const i=[],C=[],u=vt.getPlatform()==="web";for(const n of k)u||await kt.isDownloaded(n.id)?i.push(n):C.push(n);if(nt.gamesGrid.innerHTML="",i.length>0){const n=document.createElement("div");n.className="grid-section",n.innerHTML='<h3 class="section-title">Ready to Play</h3>';const a=document.createElement("div");a.className="games-inner-grid",i.forEach(r=>a.appendChild(Xt(r,!0))),n.appendChild(a),nt.gamesGrid.appendChild(n)}if(C.length>0){const n=document.createElement("div");n.className="grid-section",n.innerHTML=`<h3 class="section-title">${i.length>0?"More Games":"Discover"}</h3>`;const a=document.createElement("div");a.className="games-inner-grid",C.forEach(r=>a.appendChild(Xt(r,!1))),n.appendChild(a),nt.gamesGrid.appendChild(n)}k.length===0&&(nt.gamesGrid.innerHTML='<p class="muted">No games match your criteria.</p>')}function Xt(b,k){const i=document.createElement("div"),C=at.downloading.has(b.id),u=`/${b.thumb}`,n=`https://playstori.org/${b.thumb}`;return i.className=`game-card ${k?"":"cloud"} ${C?"loading":""}`,i.innerHTML=`
    <img class="game-thumb" 
         src="${u}" 
         onerror="if(this.src !== '${n}') this.src='${n}'"
         alt="${b.name}" 
         loading="lazy" />
    <div class="game-overlay">
      <span class="game-name">${b.name}</span>
      <span class="game-status-icon">${C?"":k?"":""}</span>
    </div>
    ${C?'<div class="progress-bar-container"><div class="progress-bar-fill"></div></div>':""}
  `,i.addEventListener("click",()=>{C||(k?Pe(b):kt.downloadAndUnpack(b))}),i}async function Pe(b){try{if(vt.getPlatform()==="web"){console.log("Running on web, using path from manifest:",b.path),window.location.href=`/${b.path}`;return}let i=re(b);i||(i=await Le(b.id)),i||(i="index.html");let C=`games/${b.id}/${i}`,u;try{await ft.stat({path:C,directory:dt.Data}),u=await ft.getUri({path:C,directory:dt.Data})}catch{const a=await Be(b.id);if(!a)throw new Error("index.html not found for game.");await jt(b.id,a.replace(`games/${b.id}/`,"")),C=a,u=await ft.getUri({path:C,directory:dt.Data})}const n=vt.convertFileSrc(u.uri);console.log("Launching game at:",n),window.location.href=n}catch(k){console.error(k),wt("Could not launch game. Try re-downloading.")}}function ne(){nt.categoryRibbon&&(nt.categoryRibbon.innerHTML="",ze.forEach(b=>{const k=document.createElement("button");k.className=`tag-pill ${at.activeCategory===b?"active":""}`,k.textContent=b,k.addEventListener("click",()=>{at.activeCategory=b,ne(),bt()}),nt.categoryRibbon.appendChild(k)}))}async function zt(){if(nt.managerList){nt.managerList.innerHTML="";for(const b of at.games){const k=await kt.isDownloaded(b.id),i=at.downloading.has(b.id),C=document.createElement("div");C.className="manager-row";const u=`/${b.thumb}`,n=`https://playstori.org/${b.thumb}`;C.innerHTML=`
      <div class="manager-info">
        <img class="manager-thumb" 
             src="${u}" 
             onerror="if(this.src !== '${n}') this.src='${n}'" />
        <div>
          <div class="manager-name">${b.name}</div>
          <div class="manager-status">${i?"Downloading...":k?"Installed":"Cloud"}</div>
        </div>
      </div>
      <div class="manager-actions">
        ${k?`
          <button class="delete-btn" title="Delete"></button>
        `:`
          <button class="download-btn" ${i?"disabled":""}>${i?"":""}</button>
        `}
      </div>
    `;const a=C.querySelector(".delete-btn");a&&a.addEventListener("click",()=>kt.deleteGame(b.id));const r=C.querySelector(".download-btn");r&&r.addEventListener("click",()=>kt.downloadAndUnpack(b)),nt.managerList.appendChild(C)}}}function Qt(b){at.view=b,nt.homeView.classList.toggle("hidden",b!=="home"),nt.managerView.classList.toggle("hidden",b!=="manager"),nt.navHome.classList.toggle("active",b==="home"),nt.navManager.classList.toggle("active",b==="manager"),b==="manager"&&zt()}function Re(){nt.searchInput&&nt.searchInput.addEventListener("input",b=>{at.searchTerm=b.target.value||"",bt()}),nt.navHome&&nt.navHome.addEventListener("click",()=>Qt("home")),nt.navManager&&nt.navManager.addEventListener("click",()=>Qt("manager")),nt.deleteAllBtn&&nt.deleteAllBtn.addEventListener("click",()=>kt.deleteAll()),nt.downloadAllBtn&&nt.downloadAllBtn.addEventListener("click",async()=>{const b=at.games.filter(k=>!at.downloading.has(k.id));wt(`Starting download of ${b.length} games...`);for(const k of b)await kt.isDownloaded(k.id)||await kt.downloadAndUnpack(k)})}async function De(){try{await Oe(),await Ie(),ne(),bt(),Re()}catch(b){console.error(b),wt("Initialization failed. Check connection.")}}De();export{Yt as E,Mt as W,ge as b};
